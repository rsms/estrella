"use strict";var Bi=Object.create;var Ve=Object.defineProperty;var Gi=Object.getOwnPropertyDescriptor;var Ui=Object.getOwnPropertyNames;var ji=Object.getPrototypeOf,qi=Object.prototype.hasOwnProperty;var P=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Rr=(r,e)=>{for(var t in e)Ve(r,t,{get:e[t],enumerable:!0})},xr=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ui(e))!qi.call(r,i)&&i!==t&&Ve(r,i,{get:()=>e[i],enumerable:!(s=Gi(e,i))||s.enumerable});return r};var se=(r,e,t)=>(t=r!=null?Bi(ji(r)):{},xr(e||!r||!r.__esModule?Ve(t,"default",{value:r,enumerable:!0}):t,r)),Ki=r=>xr(Ve({},"__esModule",{value:!0}),r);var ke=P((Gl,Ur)=>{"use strict";var nn=require("path"),le="\\\\/",Mr=`[^${le}]`,fe="\\.",on="\\+",an="\\?",Xe="\\/",ln="(?=.)",Wr="[^/]",St=`(?:${Xe}|$)`,Br=`(?:^|${Xe})`,vt=`${fe}{1,2}${St}`,cn=`(?!${fe})`,un=`(?!${Br}${vt})`,fn=`(?!${fe}{0,1}${St})`,hn=`(?!${vt})`,dn=`[^.${Xe}]`,pn=`${Wr}*?`,Gr={DOT_LITERAL:fe,PLUS_LITERAL:on,QMARK_LITERAL:an,SLASH_LITERAL:Xe,ONE_CHAR:ln,QMARK:Wr,END_ANCHOR:St,DOTS_SLASH:vt,NO_DOT:cn,NO_DOTS:un,NO_DOT_SLASH:fn,NO_DOTS_SLASH:hn,QMARK_NO_DOT:dn,STAR:pn,START_ANCHOR:Br},gn={...Gr,SLASH_LITERAL:`[${le}]`,QMARK:Mr,STAR:`${Mr}*?`,DOTS_SLASH:`${fe}{1,2}(?:[${le}]|$)`,NO_DOT:`(?!${fe})`,NO_DOTS:`(?!(?:^|[${le}])${fe}{1,2}(?:[${le}]|$))`,NO_DOT_SLASH:`(?!${fe}{0,1}(?:[${le}]|$))`,NO_DOTS_SLASH:`(?!${fe}{1,2}(?:[${le}]|$))`,QMARK_NO_DOT:`[^.${le}]`,START_ANCHOR:`(?:^|[${le}])`,END_ANCHOR:`(?:[${le}]|$)`},mn={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Ur.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:mn,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:nn.sep,extglobChars(r){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${r.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(r){return r===!0?gn:Gr}}});var Ze=P(V=>{"use strict";var _n=require("path"),En=process.platform==="win32",{REGEX_BACKSLASH:yn,REGEX_REMOVE_BACKSLASH:wn,REGEX_SPECIAL_CHARS:bn,REGEX_SPECIAL_CHARS_GLOBAL:Rn}=ke();V.isObject=r=>r!==null&&typeof r=="object"&&!Array.isArray(r);V.hasRegexChars=r=>bn.test(r);V.isRegexChar=r=>r.length===1&&V.hasRegexChars(r);V.escapeRegex=r=>r.replace(Rn,"\\$1");V.toPosixSlashes=r=>r.replace(yn,"/");V.removeBackslashes=r=>r.replace(wn,e=>e==="\\"?"":e);V.supportsLookbehinds=()=>{let r=process.version.slice(1).split(".").map(Number);return r.length===3&&r[0]>=9||r[0]===8&&r[1]>=10};V.isWindows=r=>r&&typeof r.windows=="boolean"?r.windows:En===!0||_n.sep==="\\";V.escapeLast=(r,e,t)=>{let s=r.lastIndexOf(e,t);return s===-1?r:r[s-1]==="\\"?V.escapeLast(r,e,s-1):`${r.slice(0,s)}\\${r.slice(s)}`};V.removePrefix=(r,e={})=>{let t=r;return t.startsWith("./")&&(t=t.slice(2),e.prefix="./"),t};V.wrapOutput=(r,e={},t={})=>{let s=t.contains?"":"^",i=t.contains?"":"$",o=`${s}(?:${r})${i}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var Zr=P((jl,Xr)=>{"use strict";var jr=Ze(),{CHAR_ASTERISK:Ct,CHAR_AT:xn,CHAR_BACKWARD_SLASH:Fe,CHAR_COMMA:An,CHAR_DOT:Tt,CHAR_EXCLAMATION_MARK:qr,CHAR_FORWARD_SLASH:Qr,CHAR_LEFT_CURLY_BRACE:Pt,CHAR_LEFT_PARENTHESES:Lt,CHAR_LEFT_SQUARE_BRACKET:Sn,CHAR_PLUS:vn,CHAR_QUESTION_MARK:Kr,CHAR_RIGHT_CURLY_BRACE:Cn,CHAR_RIGHT_PARENTHESES:Yr,CHAR_RIGHT_SQUARE_BRACKET:Tn}=ke(),zr=r=>r===Qr||r===Fe,Vr=r=>{r.isPrefix!==!0&&(r.depth=r.isGlobstar?1/0:1)},Pn=(r,e)=>{let t=e||{},s=r.length-1,i=t.parts===!0||t.scanToEnd===!0,o=[],n=[],a=[],l=r,h=-1,f=0,u=0,c=!1,E=!1,y=!1,_=!1,b=!1,A=!1,O=!1,k=!1,$=!1,ce=0,de,x,v={value:"",depth:0,isGlob:!1},oe=()=>h>=s,q=()=>l.charCodeAt(h+1),g=()=>(de=x,l.charCodeAt(++h));for(;h<s;){x=g();let d;if(x===Fe){O=v.backslashes=!0,x=g(),x===Pt&&(A=!0);continue}if(A===!0||x===Pt){for(ce++;oe()!==!0&&(x=g());){if(x===Fe){O=v.backslashes=!0,g();continue}if(x===Pt){ce++;continue}if(A!==!0&&x===Tt&&(x=g())===Tt){if(c=v.isBrace=!0,y=v.isGlob=!0,$=!0,i===!0)continue;break}if(A!==!0&&x===An){if(c=v.isBrace=!0,y=v.isGlob=!0,$=!0,i===!0)continue;break}if(x===Cn&&(ce--,ce===0)){A=!1,c=v.isBrace=!0,$=!0;break}}if(i===!0)continue;break}if(x===Qr){if(o.push(h),n.push(v),v={value:"",depth:0,isGlob:!1},$===!0)continue;if(de===Tt&&h===f+1){f+=2;continue}u=h+1;continue}if(t.noext!==!0&&(x===vn||x===xn||x===Ct||x===Kr||x===qr)===!0&&q()===Lt){if(y=v.isGlob=!0,_=v.isExtglob=!0,$=!0,i===!0){for(;oe()!==!0&&(x=g());){if(x===Fe){O=v.backslashes=!0,x=g();continue}if(x===Yr){y=v.isGlob=!0,$=!0;break}}continue}break}if(x===Ct){if(de===Ct&&(b=v.isGlobstar=!0),y=v.isGlob=!0,$=!0,i===!0)continue;break}if(x===Kr){if(y=v.isGlob=!0,$=!0,i===!0)continue;break}if(x===Sn)for(;oe()!==!0&&(d=g());){if(d===Fe){O=v.backslashes=!0,g();continue}if(d===Tn){if(E=v.isBracket=!0,y=v.isGlob=!0,$=!0,i===!0)continue;break}}if(t.nonegate!==!0&&x===qr&&h===f){k=v.negated=!0,f++;continue}if(t.noparen!==!0&&x===Lt){if(y=v.isGlob=!0,i===!0){for(;oe()!==!0&&(x=g());){if(x===Lt){O=v.backslashes=!0,x=g();continue}if(x===Yr){$=!0;break}}continue}break}if(y===!0){if($=!0,i===!0)continue;break}}t.noext===!0&&(_=!1,y=!1);let T=l,J="",te="";f>0&&(J=l.slice(0,f),l=l.slice(f),u-=f),T&&y===!0&&u>0?(T=l.slice(0,u),te=l.slice(u)):y===!0?(T="",te=l):T=l,T&&T!==""&&T!=="/"&&T!==l&&zr(T.charCodeAt(T.length-1))&&(T=T.slice(0,-1)),t.unescape===!0&&(te&&(te=jr.removeBackslashes(te)),T&&O===!0&&(T=jr.removeBackslashes(T)));let p={prefix:J,input:r,start:f,base:T,glob:te,isBrace:c,isBracket:E,isGlob:y,isExtglob:_,isGlobstar:b,negated:k};if(t.tokens===!0&&(p.maxDepth=0,zr(x)||n.push(v),p.tokens=n),t.parts===!0||t.tokens===!0){let d;for(let I=0;I<o.length;I++){let D=d?d+1:f,re=o[I],ae=r.slice(D,re);t.tokens&&(I===0&&f!==0?(n[I].isPrefix=!0,n[I].value=J):n[I].value=ae,Vr(n[I]),p.maxDepth+=n[I].depth),(I!==0||ae!=="")&&a.push(ae),d=re}if(d&&d+1<r.length){let I=r.slice(d+1);a.push(I),t.tokens&&(n[n.length-1].value=I,Vr(n[n.length-1]),p.maxDepth+=n[n.length-1].depth)}p.slashes=o,p.parts=a}return p};Xr.exports=Pn});var rs=P((ql,ts)=>{"use strict";var Je=ke(),X=Ze(),{MAX_LENGTH:et,POSIX_REGEX_SOURCE:Ln,REGEX_NON_SPECIAL_CHARS:On,REGEX_SPECIAL_CHARS_BACKREF:kn,REPLACEMENTS:Jr}=Je,Fn=(r,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...r,e);r.sort();let t=`[${r.join("-")}]`;try{new RegExp(t)}catch{return r.map(i=>X.escapeRegex(i)).join("..")}return t},Se=(r,e)=>`Missing ${r}: "${e}" - use "\\\\${e}" to match literal characters`,es=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");r=Jr[r]||r;let t={...e},s=typeof t.maxLength=="number"?Math.min(et,t.maxLength):et,i=r.length;if(i>s)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${s}`);let o={type:"bos",value:"",output:t.prepend||""},n=[o],a=t.capture?"":"?:",l=X.isWindows(e),h=Je.globChars(l),f=Je.extglobChars(h),{DOT_LITERAL:u,PLUS_LITERAL:c,SLASH_LITERAL:E,ONE_CHAR:y,DOTS_SLASH:_,NO_DOT:b,NO_DOT_SLASH:A,NO_DOTS_SLASH:O,QMARK:k,QMARK_NO_DOT:$,STAR:ce,START_ANCHOR:de}=h,x=w=>`(${a}(?:(?!${de}${w.dot?_:u}).)*?)`,v=t.dot?"":b,oe=t.dot?k:$,q=t.bash===!0?x(t):ce;t.capture&&(q=`(${q})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);let g={input:r,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:n};r=X.removePrefix(r,g),i=r.length;let T=[],J=[],te=[],p=o,d,I=()=>g.index===i-1,D=g.peek=(w=1)=>r[g.index+w],re=g.advance=()=>r[++g.index],ae=()=>r.slice(g.index+1),ue=(w="",F=0)=>{g.consumed+=w,g.index+=F},qe=w=>{g.output+=w.output!=null?w.output:w.value,ue(w.value)},Mi=()=>{let w=1;for(;D()==="!"&&(D(2)!=="("||D(3)==="?");)re(),g.start++,w++;return w%2===0?!1:(g.negated=!0,g.start++,!0)},Ke=w=>{g[w]++,te.push(w)},pe=w=>{g[w]--,te.pop()},S=w=>{if(p.type==="globstar"){let F=g.braces>0&&(w.type==="comma"||w.type==="brace"),m=w.extglob===!0||T.length&&(w.type==="pipe"||w.type==="paren");w.type!=="slash"&&w.type!=="paren"&&!F&&!m&&(g.output=g.output.slice(0,-p.output.length),p.type="star",p.value="*",p.output=q,g.output+=p.output)}if(T.length&&w.type!=="paren"&&!f[w.value]&&(T[T.length-1].inner+=w.value),(w.value||w.output)&&qe(w),p&&p.type==="text"&&w.type==="text"){p.value+=w.value,p.output=(p.output||"")+w.value;return}w.prev=p,n.push(w),p=w},Ye=(w,F)=>{let m={...f[F],conditions:1,inner:""};m.prev=p,m.parens=g.parens,m.output=g.output;let C=(t.capture?"(":"")+m.open;Ke("parens"),S({type:w,value:F,output:g.output?"":y}),S({type:"paren",extglob:!0,value:re(),output:C}),T.push(m)},Wi=w=>{let F=w.close+(t.capture?")":"");if(w.type==="negate"){let m=q;w.inner&&w.inner.length>1&&w.inner.includes("/")&&(m=x(t)),(m!==q||I()||/^\)+$/.test(ae()))&&(F=w.close=`)$))${m}`),w.prev.type==="bos"&&I()&&(g.negatedExtglob=!0)}S({type:"paren",extglob:!0,value:d,output:F}),pe("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(r)){let w=!1,F=r.replace(kn,(m,C,H,U,M,gt)=>U==="\\"?(w=!0,m):U==="?"?C?C+U+(M?k.repeat(M.length):""):gt===0?oe+(M?k.repeat(M.length):""):k.repeat(H.length):U==="."?u.repeat(H.length):U==="*"?C?C+U+(M?q:""):q:C?m:`\\${m}`);return w===!0&&(t.unescape===!0?F=F.replace(/\\/g,""):F=F.replace(/\\+/g,m=>m.length%2===0?"\\\\":m?"\\":"")),F===r&&t.contains===!0?(g.output=r,g):(g.output=X.wrapOutput(F,g,e),g)}for(;!I();){if(d=re(),d==="\0")continue;if(d==="\\"){let m=D();if(m==="/"&&t.bash!==!0||m==="."||m===";")continue;if(!m){d+="\\",S({type:"text",value:d});continue}let C=/^\\+/.exec(ae()),H=0;if(C&&C[0].length>2&&(H=C[0].length,g.index+=H,H%2!==0&&(d+="\\")),t.unescape===!0?d=re()||"":d+=re()||"",g.brackets===0){S({type:"text",value:d});continue}}if(g.brackets>0&&(d!=="]"||p.value==="["||p.value==="[^")){if(t.posix!==!1&&d===":"){let m=p.value.slice(1);if(m.includes("[")&&(p.posix=!0,m.includes(":"))){let C=p.value.lastIndexOf("["),H=p.value.slice(0,C),U=p.value.slice(C+2),M=Ln[U];if(M){p.value=H+M,g.backtrack=!0,re(),!o.output&&n.indexOf(p)===1&&(o.output=y);continue}}}(d==="["&&D()!==":"||d==="-"&&D()==="]")&&(d=`\\${d}`),d==="]"&&(p.value==="["||p.value==="[^")&&(d=`\\${d}`),t.posix===!0&&d==="!"&&p.value==="["&&(d="^"),p.value+=d,qe({value:d});continue}if(g.quotes===1&&d!=='"'){d=X.escapeRegex(d),p.value+=d,qe({value:d});continue}if(d==='"'){g.quotes=g.quotes===1?0:1,t.keepQuotes===!0&&S({type:"text",value:d});continue}if(d==="("){Ke("parens"),S({type:"paren",value:d});continue}if(d===")"){if(g.parens===0&&t.strictBrackets===!0)throw new SyntaxError(Se("opening","("));let m=T[T.length-1];if(m&&g.parens===m.parens+1){Wi(T.pop());continue}S({type:"paren",value:d,output:g.parens?")":"\\)"}),pe("parens");continue}if(d==="["){if(t.nobracket===!0||!ae().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(Se("closing","]"));d=`\\${d}`}else Ke("brackets");S({type:"bracket",value:d});continue}if(d==="]"){if(t.nobracket===!0||p&&p.type==="bracket"&&p.value.length===1){S({type:"text",value:d,output:`\\${d}`});continue}if(g.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(Se("opening","["));S({type:"text",value:d,output:`\\${d}`});continue}pe("brackets");let m=p.value.slice(1);if(p.posix!==!0&&m[0]==="^"&&!m.includes("/")&&(d=`/${d}`),p.value+=d,qe({value:d}),t.literalBrackets===!1||X.hasRegexChars(m))continue;let C=X.escapeRegex(p.value);if(g.output=g.output.slice(0,-p.value.length),t.literalBrackets===!0){g.output+=C,p.value=C;continue}p.value=`(${a}${C}|${p.value})`,g.output+=p.value;continue}if(d==="{"&&t.nobrace!==!0){Ke("braces");let m={type:"brace",value:d,output:"(",outputIndex:g.output.length,tokensIndex:g.tokens.length};J.push(m),S(m);continue}if(d==="}"){let m=J[J.length-1];if(t.nobrace===!0||!m){S({type:"text",value:d,output:d});continue}let C=")";if(m.dots===!0){let H=n.slice(),U=[];for(let M=H.length-1;M>=0&&(n.pop(),H[M].type!=="brace");M--)H[M].type!=="dots"&&U.unshift(H[M].value);C=Fn(U,t),g.backtrack=!0}if(m.comma!==!0&&m.dots!==!0){let H=g.output.slice(0,m.outputIndex),U=g.tokens.slice(m.tokensIndex);m.value=m.output="\\{",d=C="\\}",g.output=H;for(let M of U)g.output+=M.output||M.value}S({type:"brace",value:d,output:C}),pe("braces"),J.pop();continue}if(d==="|"){T.length>0&&T[T.length-1].conditions++,S({type:"text",value:d});continue}if(d===","){let m=d,C=J[J.length-1];C&&te[te.length-1]==="braces"&&(C.comma=!0,m="|"),S({type:"comma",value:d,output:m});continue}if(d==="/"){if(p.type==="dot"&&g.index===g.start+1){g.start=g.index+1,g.consumed="",g.output="",n.pop(),p=o;continue}S({type:"slash",value:d,output:E});continue}if(d==="."){if(g.braces>0&&p.type==="dot"){p.value==="."&&(p.output=u);let m=J[J.length-1];p.type="dots",p.output+=d,p.value+=d,m.dots=!0;continue}if(g.braces+g.parens===0&&p.type!=="bos"&&p.type!=="slash"){S({type:"text",value:d,output:u});continue}S({type:"dot",value:d,output:u});continue}if(d==="?"){if(!(p&&p.value==="(")&&t.noextglob!==!0&&D()==="("&&D(2)!=="?"){Ye("qmark",d);continue}if(p&&p.type==="paren"){let C=D(),H=d;if(C==="<"&&!X.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(p.value==="("&&!/[!=<:]/.test(C)||C==="<"&&!/<([!=]|\w+>)/.test(ae()))&&(H=`\\${d}`),S({type:"text",value:d,output:H});continue}if(t.dot!==!0&&(p.type==="slash"||p.type==="bos")){S({type:"qmark",value:d,output:$});continue}S({type:"qmark",value:d,output:k});continue}if(d==="!"){if(t.noextglob!==!0&&D()==="("&&(D(2)!=="?"||!/[!=<:]/.test(D(3)))){Ye("negate",d);continue}if(t.nonegate!==!0&&g.index===0){Mi();continue}}if(d==="+"){if(t.noextglob!==!0&&D()==="("&&D(2)!=="?"){Ye("plus",d);continue}if(p&&p.value==="("||t.regex===!1){S({type:"plus",value:d,output:c});continue}if(p&&(p.type==="bracket"||p.type==="paren"||p.type==="brace")||g.parens>0){S({type:"plus",value:d});continue}S({type:"plus",value:c});continue}if(d==="@"){if(t.noextglob!==!0&&D()==="("&&D(2)!=="?"){S({type:"at",extglob:!0,value:d,output:""});continue}S({type:"text",value:d});continue}if(d!=="*"){(d==="$"||d==="^")&&(d=`\\${d}`);let m=On.exec(ae());m&&(d+=m[0],g.index+=m[0].length),S({type:"text",value:d});continue}if(p&&(p.type==="globstar"||p.star===!0)){p.type="star",p.star=!0,p.value+=d,p.output=q,g.backtrack=!0,g.globstar=!0,ue(d);continue}let w=ae();if(t.noextglob!==!0&&/^\([^?]/.test(w)){Ye("star",d);continue}if(p.type==="star"){if(t.noglobstar===!0){ue(d);continue}let m=p.prev,C=m.prev,H=m.type==="slash"||m.type==="bos",U=C&&(C.type==="star"||C.type==="globstar");if(t.bash===!0&&(!H||w[0]&&w[0]!=="/")){S({type:"star",value:d,output:""});continue}let M=g.braces>0&&(m.type==="comma"||m.type==="brace"),gt=T.length&&(m.type==="pipe"||m.type==="paren");if(!H&&m.type!=="paren"&&!M&&!gt){S({type:"star",value:d,output:""});continue}for(;w.slice(0,3)==="/**";){let ze=r[g.index+4];if(ze&&ze!=="/")break;w=w.slice(3),ue("/**",3)}if(m.type==="bos"&&I()){p.type="globstar",p.value+=d,p.output=x(t),g.output=p.output,g.globstar=!0,ue(d);continue}if(m.type==="slash"&&m.prev.type!=="bos"&&!U&&I()){g.output=g.output.slice(0,-(m.output+p.output).length),m.output=`(?:${m.output}`,p.type="globstar",p.output=x(t)+(t.strictSlashes?")":"|$)"),p.value+=d,g.globstar=!0,g.output+=m.output+p.output,ue(d);continue}if(m.type==="slash"&&m.prev.type!=="bos"&&w[0]==="/"){let ze=w[1]!==void 0?"|$":"";g.output=g.output.slice(0,-(m.output+p.output).length),m.output=`(?:${m.output}`,p.type="globstar",p.output=`${x(t)}${E}|${E}${ze})`,p.value+=d,g.output+=m.output+p.output,g.globstar=!0,ue(d+re()),S({type:"slash",value:"/",output:""});continue}if(m.type==="bos"&&w[0]==="/"){p.type="globstar",p.value+=d,p.output=`(?:^|${E}|${x(t)}${E})`,g.output=p.output,g.globstar=!0,ue(d+re()),S({type:"slash",value:"/",output:""});continue}g.output=g.output.slice(0,-p.output.length),p.type="globstar",p.output=x(t),p.value+=d,g.output+=p.output,g.globstar=!0,ue(d);continue}let F={type:"star",value:d,output:q};if(t.bash===!0){F.output=".*?",(p.type==="bos"||p.type==="slash")&&(F.output=v+F.output),S(F);continue}if(p&&(p.type==="bracket"||p.type==="paren")&&t.regex===!0){F.output=d,S(F);continue}(g.index===g.start||p.type==="slash"||p.type==="dot")&&(p.type==="dot"?(g.output+=A,p.output+=A):t.dot===!0?(g.output+=O,p.output+=O):(g.output+=v,p.output+=v),D()!=="*"&&(g.output+=y,p.output+=y)),S(F)}for(;g.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(Se("closing","]"));g.output=X.escapeLast(g.output,"["),pe("brackets")}for(;g.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(Se("closing",")"));g.output=X.escapeLast(g.output,"("),pe("parens")}for(;g.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(Se("closing","}"));g.output=X.escapeLast(g.output,"{"),pe("braces")}if(t.strictSlashes!==!0&&(p.type==="star"||p.type==="bracket")&&S({type:"maybe_slash",value:"",output:`${E}?`}),g.backtrack===!0){g.output="";for(let w of g.tokens)g.output+=w.output!=null?w.output:w.value,w.suffix&&(g.output+=w.suffix)}return g};es.fastpaths=(r,e)=>{let t={...e},s=typeof t.maxLength=="number"?Math.min(et,t.maxLength):et,i=r.length;if(i>s)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${s}`);r=Jr[r]||r;let o=X.isWindows(e),{DOT_LITERAL:n,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:h,NO_DOT:f,NO_DOTS:u,NO_DOTS_SLASH:c,STAR:E,START_ANCHOR:y}=Je.globChars(o),_=t.dot?u:f,b=t.dot?c:f,A=t.capture?"":"?:",O={negated:!1,prefix:""},k=t.bash===!0?".*?":E;t.capture&&(k=`(${k})`);let $=v=>v.noglobstar===!0?k:`(${A}(?:(?!${y}${v.dot?h:n}).)*?)`,ce=v=>{switch(v){case"*":return`${_}${l}${k}`;case".*":return`${n}${l}${k}`;case"*.*":return`${_}${k}${n}${l}${k}`;case"*/*":return`${_}${k}${a}${l}${b}${k}`;case"**":return _+$(t);case"**/*":return`(?:${_}${$(t)}${a})?${b}${l}${k}`;case"**/*.*":return`(?:${_}${$(t)}${a})?${b}${k}${n}${l}${k}`;case"**/.*":return`(?:${_}${$(t)}${a})?${n}${l}${k}`;default:{let oe=/^(.*?)\.(\w+)$/.exec(v);if(!oe)return;let q=ce(oe[1]);return q?q+n+oe[2]:void 0}}},de=X.removePrefix(r,O),x=ce(de);return x&&t.strictSlashes!==!0&&(x+=`${a}?`),x};ts.exports=es});var is=P((Kl,ss)=>{"use strict";var Hn=require("path"),Nn=Zr(),Ot=rs(),kt=Ze(),In=ke(),$n=r=>r&&typeof r=="object"&&!Array.isArray(r),N=(r,e,t=!1)=>{if(Array.isArray(r)){let f=r.map(c=>N(c,e,t));return c=>{for(let E of f){let y=E(c);if(y)return y}return!1}}let s=$n(r)&&r.tokens&&r.input;if(r===""||typeof r!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},o=kt.isWindows(e),n=s?N.compileRe(r,e):N.makeRe(r,e,!1,!0),a=n.state;delete n.state;let l=()=>!1;if(i.ignore){let f={...e,ignore:null,onMatch:null,onResult:null};l=N(i.ignore,f,t)}let h=(f,u=!1)=>{let{isMatch:c,match:E,output:y}=N.test(f,n,e,{glob:r,posix:o}),_={glob:r,state:a,regex:n,posix:o,input:f,output:y,match:E,isMatch:c};return typeof i.onResult=="function"&&i.onResult(_),c===!1?(_.isMatch=!1,u?_:!1):l(f)?(typeof i.onIgnore=="function"&&i.onIgnore(_),_.isMatch=!1,u?_:!1):(typeof i.onMatch=="function"&&i.onMatch(_),u?_:!0)};return t&&(h.state=a),h};N.test=(r,e,t,{glob:s,posix:i}={})=>{if(typeof r!="string")throw new TypeError("Expected input to be a string");if(r==="")return{isMatch:!1,output:""};let o=t||{},n=o.format||(i?kt.toPosixSlashes:null),a=r===s,l=a&&n?n(r):r;return a===!1&&(l=n?n(r):r,a=l===s),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=N.matchBase(r,e,t,i):a=e.exec(l)),{isMatch:Boolean(a),match:a,output:l}};N.matchBase=(r,e,t,s=kt.isWindows(t))=>(e instanceof RegExp?e:N.makeRe(e,t)).test(Hn.basename(r));N.isMatch=(r,e,t)=>N(e,t)(r);N.parse=(r,e)=>Array.isArray(r)?r.map(t=>N.parse(t,e)):Ot(r,{...e,fastpaths:!1});N.scan=(r,e)=>Nn(r,e);N.compileRe=(r,e,t=!1,s=!1)=>{if(t===!0)return r.output;let i=e||{},o=i.contains?"":"^",n=i.contains?"":"$",a=`${o}(?:${r.output})${n}`;r&&r.negated===!0&&(a=`^(?!${a}).*$`);let l=N.toRegex(a,e);return s===!0&&(l.state=r),l};N.makeRe=(r,e,t=!1,s=!1)=>{if(!r||typeof r!="string")throw new TypeError("Expected a non-empty string");let i=e||{},o={negated:!1,fastpaths:!0},n="",a;return r.startsWith("./")&&(r=r.slice(2),n=o.prefix="./"),i.fastpaths!==!1&&(r[0]==="."||r[0]==="*")&&(a=Ot.fastpaths(r,e)),a===void 0?(o=Ot(r,e),o.prefix=n+(o.prefix||"")):o.output=a,N.compileRe(o,e,t,s)};N.toRegex=(r,e)=>{try{let t=e||{};return new RegExp(r,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}};N.constants=In;ss.exports=N});var Ft=P((Yl,ns)=>{"use strict";ns.exports=is()});var hs=P((zl,fs)=>{"use strict";var Ne=require("fs"),{Readable:Dn}=require("stream"),He=require("path"),{promisify:st}=require("util"),Ht=Ft(),Mn=st(Ne.readdir),os=st(Ne.stat),as=st(Ne.lstat),Wn=st(Ne.realpath),Bn="!",Gn=new Set(["ENOENT","EPERM","EACCES","ELOOP"]),Nt="files",us="directories",rt="files_directories",tt="all",ls=[Nt,us,rt,tt],Un=r=>Gn.has(r.code),cs=r=>{if(r!==void 0){if(typeof r=="function")return r;if(typeof r=="string"){let e=Ht(r.trim());return t=>e(t.basename)}if(Array.isArray(r)){let e=[],t=[];for(let s of r){let i=s.trim();i.charAt(0)===Bn?t.push(Ht(i.slice(1))):e.push(Ht(i))}return t.length>0?e.length>0?s=>e.some(i=>i(s.basename))&&!t.some(i=>i(s.basename)):s=>!t.some(i=>i(s.basename)):s=>e.some(i=>i(s.basename))}}},ve=class extends Dn{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:Nt,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});let t={...ve.defaultOptions,...e},{root:s,type:i}=t;this._fileFilter=cs(t.fileFilter),this._directoryFilter=cs(t.directoryFilter);let o=t.lstat?as:os;process.platform==="win32"&&os.length===3?this._stat=n=>o(n,{bigint:!0}):this._stat=o,this._maxDepth=t.depth,this._wantsDir=[us,rt,tt].includes(i),this._wantsFile=[Nt,rt,tt].includes(i),this._wantsEverything=i===tt,this._root=He.resolve(s),this._isDirent="Dirent"in Ne&&!t.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(s,1)],this.reading=!1,this.parent=void 0}async _read(e){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&e>0;){let{path:t,depth:s,files:i=[]}=this.parent||{};if(i.length>0){let o=i.splice(0,e).map(n=>this._formatEntry(n,t));for(let n of await Promise.all(o)){if(this.destroyed)return;let a=await this._getEntryType(n);a==="directory"&&this._directoryFilter(n)?(s<=this._maxDepth&&this.parents.push(this._exploreDir(n.fullPath,s+1)),this._wantsDir&&(this.push(n),e--)):(a==="file"||this._includeAsFile(n))&&this._fileFilter(n)&&this._wantsFile&&(this.push(n),e--)}}else{let o=this.parents.pop();if(!o){this.push(null);break}if(this.parent=await o,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}}async _exploreDir(e,t){let s;try{s=await Mn(e,this._rdOptions)}catch(i){this._onError(i)}return{files:s,depth:t,path:e}}async _formatEntry(e,t){let s;try{let i=this._isDirent?e.name:e,o=He.resolve(He.join(t,i));s={path:He.relative(this._root,o),fullPath:o,basename:i},s[this._statsProp]=this._isDirent?e:await this._stat(o)}catch(i){this._onError(i)}return s}_onError(e){Un(e)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){let t=e&&e[this._statsProp];if(!!t){if(t.isFile())return"file";if(t.isDirectory())return"directory";if(t&&t.isSymbolicLink()){let s=e.fullPath;try{let i=await Wn(s),o=await as(i);if(o.isFile())return"file";if(o.isDirectory()){let n=i.length;return s.startsWith(i)&&s.substr(n,1)===He.sep?this._onError(new Error(`Circular symlink detected: "${s}" points to "${i}"`)):"directory"}}catch(i){this._onError(i)}}}}_includeAsFile(e){let t=e&&e[this._statsProp];return t&&this._wantsEverything&&!t.isDirectory()}},Ce=(r,e={})=>{let t=e.entryType||e.type;if(t==="both"&&(t=rt),t&&(e.type=t),r){if(typeof r!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(t&&!ls.includes(t))throw new Error(`readdirp: Invalid type passed. Use one of ${ls.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return e.root=r,new ve(e)},jn=(r,e={})=>new Promise((t,s)=>{let i=[];Ce(r,e).on("data",o=>i.push(o)).on("end",()=>t(i)).on("error",o=>s(o))});Ce.promise=jn;Ce.ReaddirpStream=ve;Ce.default=Ce;fs.exports=Ce});var It=P((Vl,ds)=>{ds.exports=function(r,e){if(typeof r!="string")throw new TypeError("expected path to be a string");if(r==="\\"||r==="/")return"/";var t=r.length;if(t<=1)return r;var s="";if(t>4&&r[3]==="\\"){var i=r[2];(i==="?"||i===".")&&r.slice(0,2)==="\\\\"&&(r=r.slice(2),s="//")}var o=r.split(/[/\\]+/);return e!==!1&&o[o.length-1]===""&&o.pop(),s+o.join("/")}});var Es=P((ms,_s)=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});var gs=Ft(),qn=It(),Kn="!",Yn={returnIndex:!1},zn=r=>Array.isArray(r)?r:[r],Vn=(r,e)=>{if(typeof r=="function")return r;if(typeof r=="string"){let t=gs(r,e);return s=>r===s||t(s)}return r instanceof RegExp?t=>r.test(t):t=>!1},ps=(r,e,t,s)=>{let i=Array.isArray(t),o=i?t[0]:t;if(!i&&typeof o!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(o));let n=qn(o);for(let l=0;l<e.length;l++){let h=e[l];if(h(n))return s?-1:!1}let a=i&&[n].concat(t.slice(1));for(let l=0;l<r.length;l++){let h=r[l];if(i?h(...a):h(n))return s?l:!0}return s?-1:!1},$t=(r,e,t=Yn)=>{if(r==null)throw new TypeError("anymatch: specify first argument");let s=typeof t=="boolean"?{returnIndex:t}:t,i=s.returnIndex||!1,o=zn(r),n=o.filter(l=>typeof l=="string"&&l.charAt(0)===Kn).map(l=>l.slice(1)).map(l=>gs(l,s)),a=o.map(l=>Vn(l,s));return e==null?(l,h=!1)=>ps(a,n,l,typeof h=="boolean"?h:!1):ps(a,n,e,i)};$t.default=$t;_s.exports=$t});var ws=P((Ql,ys)=>{ys.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}});var Dt=P((Xl,bs)=>{var Qn=ws(),Xn={"{":"}","(":")","[":"]"},Zn=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,Jn=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;bs.exports=function(e,t){if(typeof e!="string"||e==="")return!1;if(Qn(e))return!0;var s=Zn,i;for(t&&t.strict===!1&&(s=Jn);i=s.exec(e);){if(i[2])return!0;var o=i.index+i[0].length,n=i[1],a=n?Xn[n]:null;if(n&&a){var l=e.indexOf(a,o);l!==-1&&(o=l+1)}e=e.slice(o)}return!1}});var xs=P((Zl,Rs)=>{"use strict";var eo=Dt(),to=require("path").posix.dirname,ro=require("os").platform()==="win32",Mt="/",so=/\\/g,io=/[\{\[].*[\/]*.*[\}\]]$/,no=/(^|[^\\])([\{\[]|\([^\)]+$)/,oo=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Rs.exports=function(e,t){var s=Object.assign({flipBackslashes:!0},t);s.flipBackslashes&&ro&&e.indexOf(Mt)<0&&(e=e.replace(so,Mt)),io.test(e)&&(e+=Mt),e+="a";do e=to(e);while(eo(e)||no.test(e));return e.replace(oo,"$1")}});var it=P(ee=>{"use strict";ee.isInteger=r=>typeof r=="number"?Number.isInteger(r):typeof r=="string"&&r.trim()!==""?Number.isInteger(Number(r)):!1;ee.find=(r,e)=>r.nodes.find(t=>t.type===e);ee.exceedsLimit=(r,e,t=1,s)=>s===!1||!ee.isInteger(r)||!ee.isInteger(e)?!1:(Number(e)-Number(r))/Number(t)>=s;ee.escapeNode=(r,e=0,t)=>{let s=r.nodes[e];!s||(t&&s.type===t||s.type==="open"||s.type==="close")&&s.escaped!==!0&&(s.value="\\"+s.value,s.escaped=!0)};ee.encloseBrace=r=>r.type!=="brace"?!1:r.commas>>0+r.ranges>>0===0?(r.invalid=!0,!0):!1;ee.isInvalidBrace=r=>r.type!=="brace"?!1:r.invalid===!0||r.dollar?!0:r.commas>>0+r.ranges>>0===0||r.open!==!0||r.close!==!0?(r.invalid=!0,!0):!1;ee.isOpenOrClose=r=>r.type==="open"||r.type==="close"?!0:r.open===!0||r.close===!0;ee.reduce=r=>r.reduce((e,t)=>(t.type==="text"&&e.push(t.value),t.type==="range"&&(t.type="text"),e),[]);ee.flatten=(...r)=>{let e=[],t=s=>{for(let i=0;i<s.length;i++){let o=s[i];Array.isArray(o)?t(o,e):o!==void 0&&e.push(o)}return e};return t(r),e}});var nt=P((ec,Ss)=>{"use strict";var As=it();Ss.exports=(r,e={})=>{let t=(s,i={})=>{let o=e.escapeInvalid&&As.isInvalidBrace(i),n=s.invalid===!0&&e.escapeInvalid===!0,a="";if(s.value)return(o||n)&&As.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let l of s.nodes)a+=t(l);return a};return t(r)}});var Cs=P((tc,vs)=>{"use strict";vs.exports=function(r){return typeof r=="number"?r-r===0:typeof r=="string"&&r.trim()!==""?Number.isFinite?Number.isFinite(+r):isFinite(+r):!1}});var Is=P((rc,Ns)=>{"use strict";var Ts=Cs(),Ee=(r,e,t)=>{if(Ts(r)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||r===e)return String(r);if(Ts(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...t};typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let i=String(s.relaxZeros),o=String(s.shorthand),n=String(s.capture),a=String(s.wrap),l=r+":"+e+"="+i+o+n+a;if(Ee.cache.hasOwnProperty(l))return Ee.cache[l].result;let h=Math.min(r,e),f=Math.max(r,e);if(Math.abs(h-f)===1){let _=r+"|"+e;return s.capture?`(${_})`:s.wrap===!1?_:`(?:${_})`}let u=Hs(r)||Hs(e),c={min:r,max:e,a:h,b:f},E=[],y=[];if(u&&(c.isPadded=u,c.maxLen=String(c.max).length),h<0){let _=f<0?Math.abs(f):1;y=Ps(_,Math.abs(h),c,s),h=c.a=0}return f>=0&&(E=Ps(h,f,c,s)),c.negatives=y,c.positives=E,c.result=ao(y,E,s),s.capture===!0?c.result=`(${c.result})`:s.wrap!==!1&&E.length+y.length>1&&(c.result=`(?:${c.result})`),Ee.cache[l]=c,c.result};function ao(r,e,t){let s=Wt(r,e,"-",!1,t)||[],i=Wt(e,r,"",!1,t)||[],o=Wt(r,e,"-?",!0,t)||[];return s.concat(o).concat(i).join("|")}function lo(r,e){let t=1,s=1,i=Os(r,t),o=new Set([e]);for(;r<=i&&i<=e;)o.add(i),t+=1,i=Os(r,t);for(i=ks(e+1,s)-1;r<i&&i<=e;)o.add(i),s+=1,i=ks(e+1,s)-1;return o=[...o],o.sort(fo),o}function co(r,e,t){if(r===e)return{pattern:r,count:[],digits:0};let s=uo(r,e),i=s.length,o="",n=0;for(let a=0;a<i;a++){let[l,h]=s[a];l===h?o+=l:l!=="0"||h!=="9"?o+=ho(l,h,t):n++}return n&&(o+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[n],digits:i}}function Ps(r,e,t,s){let i=lo(r,e),o=[],n=r,a;for(let l=0;l<i.length;l++){let h=i[l],f=co(String(n),String(h),s),u="";if(!t.isPadded&&a&&a.pattern===f.pattern){a.count.length>1&&a.count.pop(),a.count.push(f.count[0]),a.string=a.pattern+Fs(a.count),n=h+1;continue}t.isPadded&&(u=po(h,t,s)),f.string=u+f.pattern+Fs(f.count),o.push(f),n=h+1,a=f}return o}function Wt(r,e,t,s,i){let o=[];for(let n of r){let{string:a}=n;!s&&!Ls(e,"string",a)&&o.push(t+a),s&&Ls(e,"string",a)&&o.push(t+a)}return o}function uo(r,e){let t=[];for(let s=0;s<r.length;s++)t.push([r[s],e[s]]);return t}function fo(r,e){return r>e?1:e>r?-1:0}function Ls(r,e,t){return r.some(s=>s[e]===t)}function Os(r,e){return Number(String(r).slice(0,-e)+"9".repeat(e))}function ks(r,e){return r-r%Math.pow(10,e)}function Fs(r){let[e=0,t=""]=r;return t||e>1?`{${e+(t?","+t:"")}}`:""}function ho(r,e,t){return`[${r}${e-r===1?"":"-"}${e}]`}function Hs(r){return/^-?(0+)\d/.test(r)}function po(r,e,t){if(!e.isPadded)return r;let s=Math.abs(e.maxLen-String(r).length),i=t.relaxZeros!==!1;switch(s){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${s}}`:`0{${s}}`}}Ee.cache={};Ee.clearCache=()=>Ee.cache={};Ns.exports=Ee});var Ut=P((sc,js)=>{"use strict";var go=require("util"),Ms=Is(),$s=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),mo=r=>e=>r===!0?Number(e):String(e),Bt=r=>typeof r=="number"||typeof r=="string"&&r!=="",Ie=r=>Number.isInteger(+r),Gt=r=>{let e=`${r}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},_o=(r,e,t)=>typeof r=="string"||typeof e=="string"?!0:t.stringify===!0,Eo=(r,e,t)=>{if(e>0){let s=r[0]==="-"?"-":"";s&&(r=r.slice(1)),r=s+r.padStart(s?e-1:e,"0")}return t===!1?String(r):r},Ds=(r,e)=>{let t=r[0]==="-"?"-":"";for(t&&(r=r.slice(1),e--);r.length<e;)r="0"+r;return t?"-"+r:r},yo=(r,e)=>{r.negatives.sort((n,a)=>n<a?-1:n>a?1:0),r.positives.sort((n,a)=>n<a?-1:n>a?1:0);let t=e.capture?"":"?:",s="",i="",o;return r.positives.length&&(s=r.positives.join("|")),r.negatives.length&&(i=`-(${t}${r.negatives.join("|")})`),s&&i?o=`${s}|${i}`:o=s||i,e.wrap?`(${t}${o})`:o},Ws=(r,e,t,s)=>{if(t)return Ms(r,e,{wrap:!1,...s});let i=String.fromCharCode(r);if(r===e)return i;let o=String.fromCharCode(e);return`[${i}-${o}]`},Bs=(r,e,t)=>{if(Array.isArray(r)){let s=t.wrap===!0,i=t.capture?"":"?:";return s?`(${i}${r.join("|")})`:r.join("|")}return Ms(r,e,t)},Gs=(...r)=>new RangeError("Invalid range arguments: "+go.inspect(...r)),Us=(r,e,t)=>{if(t.strictRanges===!0)throw Gs([r,e]);return[]},wo=(r,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${r}" to be a number`);return[]},bo=(r,e,t=1,s={})=>{let i=Number(r),o=Number(e);if(!Number.isInteger(i)||!Number.isInteger(o)){if(s.strictRanges===!0)throw Gs([r,e]);return[]}i===0&&(i=0),o===0&&(o=0);let n=i>o,a=String(r),l=String(e),h=String(t);t=Math.max(Math.abs(t),1);let f=Gt(a)||Gt(l)||Gt(h),u=f?Math.max(a.length,l.length,h.length):0,c=f===!1&&_o(r,e,s)===!1,E=s.transform||mo(c);if(s.toRegex&&t===1)return Ws(Ds(r,u),Ds(e,u),!0,s);let y={negatives:[],positives:[]},_=O=>y[O<0?"negatives":"positives"].push(Math.abs(O)),b=[],A=0;for(;n?i>=o:i<=o;)s.toRegex===!0&&t>1?_(i):b.push(Eo(E(i,A),u,c)),i=n?i-t:i+t,A++;return s.toRegex===!0?t>1?yo(y,s):Bs(b,null,{wrap:!1,...s}):b},Ro=(r,e,t=1,s={})=>{if(!Ie(r)&&r.length>1||!Ie(e)&&e.length>1)return Us(r,e,s);let i=s.transform||(c=>String.fromCharCode(c)),o=`${r}`.charCodeAt(0),n=`${e}`.charCodeAt(0),a=o>n,l=Math.min(o,n),h=Math.max(o,n);if(s.toRegex&&t===1)return Ws(l,h,!1,s);let f=[],u=0;for(;a?o>=n:o<=n;)f.push(i(o,u)),o=a?o-t:o+t,u++;return s.toRegex===!0?Bs(f,null,{wrap:!1,options:s}):f},ot=(r,e,t,s={})=>{if(e==null&&Bt(r))return[r];if(!Bt(r)||!Bt(e))return Us(r,e,s);if(typeof t=="function")return ot(r,e,1,{transform:t});if($s(t))return ot(r,e,0,t);let i={...s};return i.capture===!0&&(i.wrap=!0),t=t||i.step||1,Ie(t)?Ie(r)&&Ie(e)?bo(r,e,t,i):Ro(r,e,Math.max(Math.abs(t),1),i):t!=null&&!$s(t)?wo(t,i):ot(r,e,1,t)};js.exports=ot});var Ys=P((ic,Ks)=>{"use strict";var xo=Ut(),qs=it(),Ao=(r,e={})=>{let t=(s,i={})=>{let o=qs.isInvalidBrace(i),n=s.invalid===!0&&e.escapeInvalid===!0,a=o===!0||n===!0,l=e.escapeInvalid===!0?"\\":"",h="";if(s.isOpen===!0||s.isClose===!0)return l+s.value;if(s.type==="open")return a?l+s.value:"(";if(s.type==="close")return a?l+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":a?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let f=qs.reduce(s.nodes),u=xo(...f,{...e,wrap:!1,toRegex:!0});if(u.length!==0)return f.length>1&&u.length>1?`(${u})`:u}if(s.nodes)for(let f of s.nodes)h+=t(f,s);return h};return t(r)};Ks.exports=Ao});var Qs=P((nc,Vs)=>{"use strict";var So=Ut(),zs=nt(),Te=it(),ye=(r="",e="",t=!1)=>{let s=[];if(r=[].concat(r),e=[].concat(e),!e.length)return r;if(!r.length)return t?Te.flatten(e).map(i=>`{${i}}`):e;for(let i of r)if(Array.isArray(i))for(let o of i)s.push(ye(o,e,t));else for(let o of e)t===!0&&typeof o=="string"&&(o=`{${o}}`),s.push(Array.isArray(o)?ye(i,o,t):i+o);return Te.flatten(s)},vo=(r,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,s=(i,o={})=>{i.queue=[];let n=o,a=o.queue;for(;n.type!=="brace"&&n.type!=="root"&&n.parent;)n=n.parent,a=n.queue;if(i.invalid||i.dollar){a.push(ye(a.pop(),zs(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(ye(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let u=Te.reduce(i.nodes);if(Te.exceedsLimit(...u,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=So(...u,e);c.length===0&&(c=zs(i,e)),a.push(ye(a.pop(),c)),i.nodes=[];return}let l=Te.encloseBrace(i),h=i.queue,f=i;for(;f.type!=="brace"&&f.type!=="root"&&f.parent;)f=f.parent,h=f.queue;for(let u=0;u<i.nodes.length;u++){let c=i.nodes[u];if(c.type==="comma"&&i.type==="brace"){u===1&&h.push(""),h.push("");continue}if(c.type==="close"){a.push(ye(a.pop(),h,l));continue}if(c.value&&c.type!=="open"){h.push(ye(h.pop(),c.value));continue}c.nodes&&s(c,i)}return h};return Te.flatten(s(r))};Vs.exports=vo});var Zs=P((oc,Xs)=>{"use strict";Xs.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var si=P((ac,ri)=>{"use strict";var Co=nt(),{MAX_LENGTH:Js,CHAR_BACKSLASH:jt,CHAR_BACKTICK:To,CHAR_COMMA:Po,CHAR_DOT:Lo,CHAR_LEFT_PARENTHESES:Oo,CHAR_RIGHT_PARENTHESES:ko,CHAR_LEFT_CURLY_BRACE:Fo,CHAR_RIGHT_CURLY_BRACE:Ho,CHAR_LEFT_SQUARE_BRACKET:ei,CHAR_RIGHT_SQUARE_BRACKET:ti,CHAR_DOUBLE_QUOTE:No,CHAR_SINGLE_QUOTE:Io,CHAR_NO_BREAK_SPACE:$o,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Do}=Zs(),Mo=(r,e={})=>{if(typeof r!="string")throw new TypeError("Expected a string");let t=e||{},s=typeof t.maxLength=="number"?Math.min(Js,t.maxLength):Js;if(r.length>s)throw new SyntaxError(`Input length (${r.length}), exceeds max characters (${s})`);let i={type:"root",input:r,nodes:[]},o=[i],n=i,a=i,l=0,h=r.length,f=0,u=0,c,E={},y=()=>r[f++],_=b=>{if(b.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&b.type==="text"){a.value+=b.value;return}return n.nodes.push(b),b.parent=n,b.prev=a,a=b,b};for(_({type:"bos"});f<h;)if(n=o[o.length-1],c=y(),!(c===Do||c===$o)){if(c===jt){_({type:"text",value:(e.keepEscaping?c:"")+y()});continue}if(c===ti){_({type:"text",value:"\\"+c});continue}if(c===ei){l++;let b=!0,A;for(;f<h&&(A=y());){if(c+=A,A===ei){l++;continue}if(A===jt){c+=y();continue}if(A===ti&&(l--,l===0))break}_({type:"text",value:c});continue}if(c===Oo){n=_({type:"paren",nodes:[]}),o.push(n),_({type:"text",value:c});continue}if(c===ko){if(n.type!=="paren"){_({type:"text",value:c});continue}n=o.pop(),_({type:"text",value:c}),n=o[o.length-1];continue}if(c===No||c===Io||c===To){let b=c,A;for(e.keepQuotes!==!0&&(c="");f<h&&(A=y());){if(A===jt){c+=A+y();continue}if(A===b){e.keepQuotes===!0&&(c+=A);break}c+=A}_({type:"text",value:c});continue}if(c===Fo){u++;let b=a.value&&a.value.slice(-1)==="$"||n.dollar===!0;n=_({type:"brace",open:!0,close:!1,dollar:b,depth:u,commas:0,ranges:0,nodes:[]}),o.push(n),_({type:"open",value:c});continue}if(c===Ho){if(n.type!=="brace"){_({type:"text",value:c});continue}let b="close";n=o.pop(),n.close=!0,_({type:b,value:c}),u--,n=o[o.length-1];continue}if(c===Po&&u>0){if(n.ranges>0){n.ranges=0;let b=n.nodes.shift();n.nodes=[b,{type:"text",value:Co(n)}]}_({type:"comma",value:c}),n.commas++;continue}if(c===Lo&&u>0&&n.commas===0){let b=n.nodes;if(u===0||b.length===0){_({type:"text",value:c});continue}if(a.type==="dot"){if(n.range=[],a.value+=c,a.type="range",n.nodes.length!==3&&n.nodes.length!==5){n.invalid=!0,n.ranges=0,a.type="text";continue}n.ranges++,n.args=[];continue}if(a.type==="range"){b.pop();let A=b[b.length-1];A.value+=a.value+c,a=A,n.ranges--;continue}_({type:"dot",value:c});continue}_({type:"text",value:c})}do if(n=o.pop(),n.type!=="root"){n.nodes.forEach(O=>{O.nodes||(O.type==="open"&&(O.isOpen=!0),O.type==="close"&&(O.isClose=!0),O.nodes||(O.type="text"),O.invalid=!0)});let b=o[o.length-1],A=b.nodes.indexOf(n);b.nodes.splice(A,1,...n.nodes)}while(o.length>0);return _({type:"eos"}),i};ri.exports=Mo});var oi=P((lc,ni)=>{"use strict";var ii=nt(),Wo=Ys(),Bo=Qs(),Go=si(),Z=(r,e={})=>{let t=[];if(Array.isArray(r))for(let s of r){let i=Z.create(s,e);Array.isArray(i)?t.push(...i):t.push(i)}else t=[].concat(Z.create(r,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};Z.parse=(r,e={})=>Go(r,e);Z.stringify=(r,e={})=>ii(typeof r=="string"?Z.parse(r,e):r,e);Z.compile=(r,e={})=>(typeof r=="string"&&(r=Z.parse(r,e)),Wo(r,e));Z.expand=(r,e={})=>{typeof r=="string"&&(r=Z.parse(r,e));let t=Bo(r,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t};Z.create=(r,e={})=>r===""||r.length<3?[r]:e.expand!==!0?Z.compile(r,e):Z.expand(r,e);ni.exports=Z});var ai=P((cc,Uo)=>{Uo.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","oga","ogg","ogv","otf","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]});var ci=P((uc,li)=>{li.exports=ai()});var fi=P((fc,ui)=>{"use strict";var jo=require("path"),qo=ci(),Ko=new Set(qo);ui.exports=r=>Ko.has(jo.extname(r).slice(1).toLowerCase())});var at=P(R=>{"use strict";var{sep:Yo}=require("path"),{platform:qt}=process;R.EV_ALL="all";R.EV_READY="ready";R.EV_ADD="add";R.EV_CHANGE="change";R.EV_ADD_DIR="addDir";R.EV_UNLINK="unlink";R.EV_UNLINK_DIR="unlinkDir";R.EV_RAW="raw";R.EV_ERROR="error";R.STR_DATA="data";R.STR_END="end";R.STR_CLOSE="close";R.FSEVENT_CREATED="created";R.FSEVENT_MODIFIED="modified";R.FSEVENT_DELETED="deleted";R.FSEVENT_MOVED="moved";R.FSEVENT_CLONED="cloned";R.FSEVENT_UNKNOWN="unknown";R.FSEVENT_TYPE_FILE="file";R.FSEVENT_TYPE_DIRECTORY="directory";R.FSEVENT_TYPE_SYMLINK="symlink";R.KEY_LISTENERS="listeners";R.KEY_ERR="errHandlers";R.KEY_RAW="rawEmitters";R.HANDLER_KEYS=[R.KEY_LISTENERS,R.KEY_ERR,R.KEY_RAW];R.DOT_SLASH=`.${Yo}`;R.BACK_SLASH_RE=/\\/g;R.DOUBLE_SLASH_RE=/\/\//;R.SLASH_OR_BACK_SLASH_RE=/[/\\]/;R.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;R.REPLACER_RE=/^\.[/\\]/;R.SLASH="/";R.SLASH_SLASH="//";R.BRACE_START="{";R.BANG="!";R.ONE_DOT=".";R.TWO_DOTS="..";R.STAR="*";R.GLOBSTAR="**";R.ROOT_GLOBSTAR="/**/*";R.SLASH_GLOBSTAR="/**";R.DIR_SUFFIX="Dir";R.ANYMATCH_OPTS={dot:!0};R.STRING_TYPE="string";R.FUNCTION_TYPE="function";R.EMPTY_STR="";R.EMPTY_FN=()=>{};R.IDENTITY_FN=r=>r;R.isWindows=qt==="win32";R.isMacos=qt==="darwin";R.isLinux=qt==="linux"});var _i=P((dc,mi)=>{"use strict";var he=require("fs"),W=require("path"),{promisify:We}=require("util"),zo=fi(),{isWindows:Vo,isLinux:Qo,EMPTY_FN:Xo,EMPTY_STR:Zo,KEY_LISTENERS:Pe,KEY_ERR:Kt,KEY_RAW:$e,HANDLER_KEYS:Jo,EV_CHANGE:ct,EV_ADD:lt,EV_ADD_DIR:ea,EV_ERROR:di,STR_DATA:ta,STR_END:ra,BRACE_START:sa,STAR:ia}=at(),na="watch",oa=We(he.open),pi=We(he.stat),aa=We(he.lstat),la=We(he.close),Yt=We(he.realpath),ca={lstat:aa,stat:pi},Vt=(r,e)=>{r instanceof Set?r.forEach(e):e(r)},De=(r,e,t)=>{let s=r[e];s instanceof Set||(r[e]=s=new Set([s])),s.add(t)},ua=r=>e=>{let t=r[e];t instanceof Set?t.clear():delete r[e]},Me=(r,e,t)=>{let s=r[e];s instanceof Set?s.delete(t):s===t&&delete r[e]},gi=r=>r instanceof Set?r.size===0:!r,ut=new Map;function hi(r,e,t,s,i){let o=(n,a)=>{t(r),i(n,a,{watchedPath:r}),a&&r!==a&&ft(W.resolve(r,a),Pe,W.join(r,a))};try{return he.watch(r,e,o)}catch(n){s(n)}}var ft=(r,e,t,s,i)=>{let o=ut.get(r);!o||Vt(o[e],n=>{n(t,s,i)})},fa=(r,e,t,s)=>{let{listener:i,errHandler:o,rawEmitter:n}=s,a=ut.get(e),l;if(!t.persistent)return l=hi(r,t,i,o,n),l.close.bind(l);if(a)De(a,Pe,i),De(a,Kt,o),De(a,$e,n);else{if(l=hi(r,t,ft.bind(null,e,Pe),o,ft.bind(null,e,$e)),!l)return;l.on(di,async h=>{let f=ft.bind(null,e,Kt);if(a.watcherUnusable=!0,Vo&&h.code==="EPERM")try{let u=await oa(r,"r");await la(u),f(h)}catch{}else f(h)}),a={listeners:i,errHandlers:o,rawEmitters:n,watcher:l},ut.set(e,a)}return()=>{Me(a,Pe,i),Me(a,Kt,o),Me(a,$e,n),gi(a.listeners)&&(a.watcher.close(),ut.delete(e),Jo.forEach(ua(a)),a.watcher=void 0,Object.freeze(a))}},zt=new Map,ha=(r,e,t,s)=>{let{listener:i,rawEmitter:o}=s,n=zt.get(e),a=new Set,l=new Set,h=n&&n.options;return h&&(h.persistent<t.persistent||h.interval>t.interval)&&(a=n.listeners,l=n.rawEmitters,he.unwatchFile(e),n=void 0),n?(De(n,Pe,i),De(n,$e,o)):(n={listeners:i,rawEmitters:o,options:t,watcher:he.watchFile(e,t,(f,u)=>{Vt(n.rawEmitters,E=>{E(ct,e,{curr:f,prev:u})});let c=f.mtimeMs;(f.size!==u.size||c>u.mtimeMs||c===0)&&Vt(n.listeners,E=>E(r,f))})},zt.set(e,n)),()=>{Me(n,Pe,i),Me(n,$e,o),gi(n.listeners)&&(zt.delete(e),he.unwatchFile(e),n.options=n.watcher=void 0,Object.freeze(n))}},Qt=class{constructor(e){this.fsw=e,this._boundHandleError=t=>e._handleError(t)}_watchWithNodeFs(e,t){let s=this.fsw.options,i=W.dirname(e),o=W.basename(e);this.fsw._getWatchedDir(i).add(o);let a=W.resolve(e),l={persistent:s.persistent};t||(t=Xo);let h;return s.usePolling?(l.interval=s.enableBinaryInterval&&zo(o)?s.binaryInterval:s.interval,h=ha(e,a,l,{listener:t,rawEmitter:this.fsw._emitRaw})):h=fa(e,a,l,{listener:t,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),h}_handleFile(e,t,s){if(this.fsw.closed)return;let i=W.dirname(e),o=W.basename(e),n=this.fsw._getWatchedDir(i),a=t;if(n.has(o))return;let l=async(f,u)=>{if(!!this.fsw._throttle(na,e,5)){if(!u||u.mtimeMs===0)try{let c=await pi(e);if(this.fsw.closed)return;let E=c.atimeMs,y=c.mtimeMs;(!E||E<=y||y!==a.mtimeMs)&&this.fsw._emit(ct,e,c),Qo&&a.ino!==c.ino?(this.fsw._closeFile(f),a=c,this.fsw._addPathCloser(f,this._watchWithNodeFs(e,l))):a=c}catch{this.fsw._remove(i,o)}else if(n.has(o)){let c=u.atimeMs,E=u.mtimeMs;(!c||c<=E||E!==a.mtimeMs)&&this.fsw._emit(ct,e,u),a=u}}},h=this._watchWithNodeFs(e,l);if(!(s&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(lt,e,0))return;this.fsw._emit(lt,e,t)}return h}async _handleSymlink(e,t,s,i){if(this.fsw.closed)return;let o=e.fullPath,n=this.fsw._getWatchedDir(t);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let a=await Yt(s);return this.fsw.closed?void 0:(n.has(i)?this.fsw._symlinkPaths.get(o)!==a&&(this.fsw._symlinkPaths.set(o,a),this.fsw._emit(ct,s,e.stats)):(n.add(i),this.fsw._symlinkPaths.set(o,a),this.fsw._emit(lt,s,e.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(o))return!0;this.fsw._symlinkPaths.set(o,!0)}_handleRead(e,t,s,i,o,n,a){if(e=W.join(e,Zo),!s.hasGlob&&(a=this.fsw._throttle("readdir",e,1e3),!a))return;let l=this.fsw._getWatchedDir(s.path),h=new Set,f=this.fsw._readdirp(e,{fileFilter:u=>s.filterPath(u),directoryFilter:u=>s.filterDir(u),depth:0}).on(ta,async u=>{if(this.fsw.closed){f=void 0;return}let c=u.path,E=W.join(e,c);if(h.add(c),!(u.stats.isSymbolicLink()&&await this._handleSymlink(u,e,E,c))){if(this.fsw.closed){f=void 0;return}(c===i||!i&&!l.has(c))&&(this.fsw._incrReadyCount(),E=W.join(o,W.relative(o,E)),this._addToNodeFs(E,t,s,n+1))}}).on(di,this._boundHandleError);return new Promise(u=>f.once(ra,()=>{if(this.fsw.closed){f=void 0;return}let c=a?a.clear():!1;u(),l.getChildren().filter(E=>E!==e&&!h.has(E)&&(!s.hasGlob||s.filterPath({fullPath:W.resolve(e,E)}))).forEach(E=>{this.fsw._remove(e,E)}),f=void 0,c&&this._handleRead(e,!1,s,i,o,n,a)}))}async _handleDir(e,t,s,i,o,n,a){let l=this.fsw._getWatchedDir(W.dirname(e)),h=l.has(W.basename(e));!(s&&this.fsw.options.ignoreInitial)&&!o&&!h&&(!n.hasGlob||n.globFilter(e))&&this.fsw._emit(ea,e,t),l.add(W.basename(e)),this.fsw._getWatchedDir(e);let f,u,c=this.fsw.options.depth;if((c==null||i<=c)&&!this.fsw._symlinkPaths.has(a)){if(!o&&(await this._handleRead(e,s,n,o,e,i,f),this.fsw.closed))return;u=this._watchWithNodeFs(e,(E,y)=>{y&&y.mtimeMs===0||this._handleRead(E,!1,n,o,e,i,f)})}return u}async _addToNodeFs(e,t,s,i,o){let n=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return n(),!1;let a=this.fsw._getWatchHelpers(e,i);!a.hasGlob&&s&&(a.hasGlob=s.hasGlob,a.globFilter=s.globFilter,a.filterPath=l=>s.filterPath(l),a.filterDir=l=>s.filterDir(l));try{let l=await ca[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,l))return n(),!1;let h=this.fsw.options.followSymlinks&&!e.includes(ia)&&!e.includes(sa),f;if(l.isDirectory()){let u=W.resolve(e),c=h?await Yt(e):e;if(this.fsw.closed||(f=await this._handleDir(a.watchPath,l,t,i,o,a,c),this.fsw.closed))return;u!==c&&c!==void 0&&this.fsw._symlinkPaths.set(u,c)}else if(l.isSymbolicLink()){let u=h?await Yt(e):e;if(this.fsw.closed)return;let c=W.dirname(a.watchPath);if(this.fsw._getWatchedDir(c).add(a.watchPath),this.fsw._emit(lt,a.watchPath,l),f=await this._handleDir(c,l,t,i,e,a,u),this.fsw.closed)return;u!==void 0&&this.fsw._symlinkPaths.set(W.resolve(e),u)}else f=this._handleFile(a.watchPath,l,t);return n(),this.fsw._addPathCloser(e,f),!1}catch(l){if(this.fsw._handleError(l))return n(),e}}};mi.exports=Qt});var Ai=P((pc,ir)=>{"use strict";var rr=require("fs"),B=require("path"),{promisify:sr}=require("util"),Le;try{Le=require("fsevents")}catch(r){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(r)}if(Le){let r=process.version.match(/v(\d+)\.(\d+)/);if(r&&r[1]&&r[2]){let e=Number.parseInt(r[1],10),t=Number.parseInt(r[2],10);e===8&&t<16&&(Le=void 0)}}var{EV_ADD:Xt,EV_CHANGE:da,EV_ADD_DIR:Ei,EV_UNLINK:ht,EV_ERROR:pa,STR_DATA:ga,STR_END:ma,FSEVENT_CREATED:_a,FSEVENT_MODIFIED:Ea,FSEVENT_DELETED:ya,FSEVENT_MOVED:wa,FSEVENT_UNKNOWN:ba,FSEVENT_TYPE_FILE:Ra,FSEVENT_TYPE_DIRECTORY:Be,FSEVENT_TYPE_SYMLINK:xi,ROOT_GLOBSTAR:yi,DIR_SUFFIX:xa,DOT_SLASH:wi,FUNCTION_TYPE:Zt,EMPTY_FN:Aa,IDENTITY_FN:Sa}=at(),va=r=>isNaN(r)?{}:{depth:r},er=sr(rr.stat),Ca=sr(rr.lstat),bi=sr(rr.realpath),Ta={stat:er,lstat:Ca},we=new Map,Pa=10,La=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),Oa=(r,e)=>({stop:Le.watch(r,e)});function ka(r,e,t,s){let i=B.extname(r)?B.dirname(r):r,o=B.dirname(i),n=we.get(i);Fa(o)&&(i=o);let a=B.resolve(r),l=a!==e,h=(u,c,E)=>{l&&(u=u.replace(e,a)),(u===a||!u.indexOf(a+B.sep))&&t(u,c,E)},f=!1;for(let u of we.keys())if(e.indexOf(B.resolve(u)+B.sep)===0){i=u,n=we.get(i),f=!0;break}return n||f?n.listeners.add(h):(n={listeners:new Set([h]),rawEmitter:s,watcher:Oa(i,(u,c)=>{if(!n.listeners.size)return;let E=Le.getInfo(u,c);n.listeners.forEach(y=>{y(u,c,E)}),n.rawEmitter(E.event,u,E)})},we.set(i,n)),()=>{let u=n.listeners;if(u.delete(h),!u.size&&(we.delete(i),n.watcher))return n.watcher.stop().then(()=>{n.rawEmitter=n.watcher=void 0,Object.freeze(n)})}}var Fa=r=>{let e=0;for(let t of we.keys())if(t.indexOf(r)===0&&(e++,e>=Pa))return!0;return!1},Ha=()=>Le&&we.size<128,Jt=(r,e)=>{let t=0;for(;!r.indexOf(e)&&(r=B.dirname(r))!==e;)t++;return t},Ri=(r,e)=>r.type===Be&&e.isDirectory()||r.type===xi&&e.isSymbolicLink()||r.type===Ra&&e.isFile(),tr=class{constructor(e){this.fsw=e}checkIgnored(e,t){let s=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,t))return s.add(e),t&&t.isDirectory()&&s.add(e+yi),!0;s.delete(e),s.delete(e+yi)}addOrChange(e,t,s,i,o,n,a,l){let h=o.has(n)?da:Xt;this.handleEvent(h,e,t,s,i,o,n,a,l)}async checkExists(e,t,s,i,o,n,a,l){try{let h=await er(e);if(this.fsw.closed)return;Ri(a,h)?this.addOrChange(e,t,s,i,o,n,a,l):this.handleEvent(ht,e,t,s,i,o,n,a,l)}catch(h){h.code==="EACCES"?this.addOrChange(e,t,s,i,o,n,a,l):this.handleEvent(ht,e,t,s,i,o,n,a,l)}}handleEvent(e,t,s,i,o,n,a,l,h){if(!(this.fsw.closed||this.checkIgnored(t)))if(e===ht){let f=l.type===Be;(f||n.has(a))&&this.fsw._remove(o,a,f)}else{if(e===Xt){if(l.type===Be&&this.fsw._getWatchedDir(t),l.type===xi&&h.followSymlinks){let u=h.depth===void 0?void 0:Jt(s,i)+1;return this._addToFsEvents(t,!1,!0,u)}this.fsw._getWatchedDir(o).add(a)}let f=l.type===Be?e+xa:e;this.fsw._emit(f,t),f===Ei&&this._addToFsEvents(t,!1,!0)}}_watchWithFsEvents(e,t,s,i){if(this.fsw.closed||this.fsw._isIgnored(e))return;let o=this.fsw.options,a=ka(e,t,async(l,h,f)=>{if(this.fsw.closed||o.depth!==void 0&&Jt(l,t)>o.depth)return;let u=s(B.join(e,B.relative(e,l)));if(i&&!i(u))return;let c=B.dirname(u),E=B.basename(u),y=this.fsw._getWatchedDir(f.type===Be?u:c);if(La.has(h)||f.event===ba)if(typeof o.ignored===Zt){let _;try{_=await er(u)}catch{}if(this.fsw.closed||this.checkIgnored(u,_))return;Ri(f,_)?this.addOrChange(u,l,t,c,y,E,f,o):this.handleEvent(ht,u,l,t,c,y,E,f,o)}else this.checkExists(u,l,t,c,y,E,f,o);else switch(f.event){case _a:case Ea:return this.addOrChange(u,l,t,c,y,E,f,o);case ya:case wa:return this.checkExists(u,l,t,c,y,E,f,o)}},this.fsw._emitRaw);return this.fsw._emitReady(),a}async _handleFsEventsSymlink(e,t,s,i){if(!(this.fsw.closed||this.fsw._symlinkPaths.has(t))){this.fsw._symlinkPaths.set(t,!0),this.fsw._incrReadyCount();try{let o=await bi(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(o))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(o||e,n=>{let a=e;return o&&o!==wi?a=n.replace(o,e):n!==wi&&(a=B.join(e,n)),s(a)},!1,i)}catch(o){if(this.fsw._handleError(o))return this.fsw._emitReady()}}}emitAdd(e,t,s,i,o){let n=s(e),a=t.isDirectory(),l=this.fsw._getWatchedDir(B.dirname(n)),h=B.basename(n);a&&this.fsw._getWatchedDir(n),!l.has(h)&&(l.add(h),(!i.ignoreInitial||o===!0)&&this.fsw._emit(a?Ei:Xt,n,t))}initWatch(e,t,s,i){if(this.fsw.closed)return;let o=this._watchWithFsEvents(s.watchPath,B.resolve(e||s.watchPath),i,s.globFilter);this.fsw._addPathCloser(t,o)}async _addToFsEvents(e,t,s,i){if(this.fsw.closed)return;let o=this.fsw.options,n=typeof t===Zt?t:Sa,a=this.fsw._getWatchHelpers(e);try{let l=await Ta[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,l))throw null;if(l.isDirectory()){if(a.globFilter||this.emitAdd(n(e),l,n,o,s),i&&i>o.depth)return;this.fsw._readdirp(a.watchPath,{fileFilter:h=>a.filterPath(h),directoryFilter:h=>a.filterDir(h),...va(o.depth-(i||0))}).on(ga,h=>{if(this.fsw.closed||h.stats.isDirectory()&&!a.filterPath(h))return;let f=B.join(a.watchPath,h.path),{fullPath:u}=h;if(a.followSymlinks&&h.stats.isSymbolicLink()){let c=o.depth===void 0?void 0:Jt(f,B.resolve(a.watchPath))+1;this._handleFsEventsSymlink(f,u,n,c)}else this.emitAdd(f,h.stats,n,o,s)}).on(pa,Aa).on(ma,()=>{this.fsw._emitReady()})}else this.emitAdd(a.watchPath,l,n,o,s),this.fsw._emitReady()}catch(l){(!l||this.fsw._handleError(l))&&(this.fsw._emitReady(),this.fsw._emitReady())}if(o.persistent&&s!==!0)if(typeof t===Zt)this.initWatch(void 0,e,a,n);else{let l;try{l=await bi(a.watchPath)}catch{}this.initWatch(l,e,a,n)}}};ir.exports=tr;ir.exports.canUse=Ha});var Ni=P(yr=>{"use strict";var{EventEmitter:Na}=require("events"),_r=require("fs"),L=require("path"),{promisify:Oi}=require("util"),Ia=hs(),ur=Es().default,$a=xs(),nr=Dt(),Da=oi(),Ma=It(),Wa=_i(),Si=Ai(),{EV_ALL:or,EV_READY:Ba,EV_ADD:dt,EV_CHANGE:Ge,EV_UNLINK:vi,EV_ADD_DIR:Ga,EV_UNLINK_DIR:Ua,EV_RAW:ja,EV_ERROR:ar,STR_CLOSE:qa,STR_END:Ka,BACK_SLASH_RE:Ya,DOUBLE_SLASH_RE:Ci,SLASH_OR_BACK_SLASH_RE:za,DOT_RE:Va,REPLACER_RE:Qa,SLASH:lr,SLASH_SLASH:Xa,BRACE_START:Za,BANG:fr,ONE_DOT:ki,TWO_DOTS:Ja,GLOBSTAR:el,SLASH_GLOBSTAR:cr,ANYMATCH_OPTS:hr,STRING_TYPE:Er,FUNCTION_TYPE:tl,EMPTY_STR:dr,EMPTY_FN:rl,isWindows:sl,isMacos:il}=at(),nl=Oi(_r.stat),ol=Oi(_r.readdir),pr=(r=[])=>Array.isArray(r)?r:[r],Fi=(r,e=[])=>(r.forEach(t=>{Array.isArray(t)?Fi(t,e):e.push(t)}),e),Ti=r=>{let e=Fi(pr(r));if(!e.every(t=>typeof t===Er))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(Hi)},Pi=r=>{let e=r.replace(Ya,lr),t=!1;for(e.startsWith(Xa)&&(t=!0);e.match(Ci);)e=e.replace(Ci,lr);return t&&(e=lr+e),e},Hi=r=>Pi(L.normalize(Pi(r))),Li=(r=dr)=>e=>typeof e!==Er?e:Hi(L.isAbsolute(e)?e:L.join(r,e)),al=(r,e)=>L.isAbsolute(r)?r:r.startsWith(fr)?fr+L.join(e,r.slice(1)):L.join(e,r),ne=(r,e)=>r[e]===void 0,gr=class{constructor(e,t){this.path=e,this._removeWatcher=t,this.items=new Set}add(e){let{items:t}=this;!t||e!==ki&&e!==Ja&&t.add(e)}async remove(e){let{items:t}=this;if(!t||(t.delete(e),t.size>0))return;let s=this.path;try{await ol(s)}catch{this._removeWatcher&&this._removeWatcher(L.dirname(s),L.basename(s))}}has(e){let{items:t}=this;if(!!t)return t.has(e)}getChildren(){let{items:e}=this;if(!!e)return[...e.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}},ll="stat",cl="lstat",mr=class{constructor(e,t,s,i){this.fsw=i,this.path=e=e.replace(Qa,dr),this.watchPath=t,this.fullWatchPath=L.resolve(t),this.hasGlob=t!==e,e===dr&&(this.hasGlob=!1),this.globSymlink=this.hasGlob&&s?void 0:!1,this.globFilter=this.hasGlob?ur(e,void 0,hr):!1,this.dirParts=this.getDirParts(e),this.dirParts.forEach(o=>{o.length>1&&o.pop()}),this.followSymlinks=s,this.statMethod=s?ll:cl}checkGlobSymlink(e){return this.globSymlink===void 0&&(this.globSymlink=e.fullParentDir===this.fullWatchPath?!1:{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return L.join(this.watchPath,L.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){let{stats:t}=e;if(t&&t.isSymbolicLink())return this.filterDir(e);let s=this.entryPath(e);return(this.hasGlob&&typeof this.globFilter===tl?this.globFilter(s):!0)&&this.fsw._isntIgnored(s,t)&&this.fsw._hasReadPermissions(t)}getDirParts(e){if(!this.hasGlob)return[];let t=[];return(e.includes(Za)?Da.expand(e):[e]).forEach(i=>{t.push(L.relative(this.watchPath,i).split(za))}),t}filterDir(e){if(this.hasGlob){let t=this.getDirParts(this.checkGlobSymlink(e)),s=!1;this.unmatchedGlob=!this.dirParts.some(i=>i.every((o,n)=>(o===el&&(s=!0),s||!t[0][n]||ur(o,t[0][n],hr))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}},pt=class extends Na{constructor(e){super();let t={};e&&Object.assign(t,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,ne(t,"persistent")&&(t.persistent=!0),ne(t,"ignoreInitial")&&(t.ignoreInitial=!1),ne(t,"ignorePermissionErrors")&&(t.ignorePermissionErrors=!1),ne(t,"interval")&&(t.interval=100),ne(t,"binaryInterval")&&(t.binaryInterval=300),ne(t,"disableGlobbing")&&(t.disableGlobbing=!1),t.enableBinaryInterval=t.binaryInterval!==t.interval,ne(t,"useFsEvents")&&(t.useFsEvents=!t.usePolling),Si.canUse()||(t.useFsEvents=!1),ne(t,"usePolling")&&!t.useFsEvents&&(t.usePolling=il);let i=process.env.CHOKIDAR_USEPOLLING;if(i!==void 0){let l=i.toLowerCase();l==="false"||l==="0"?t.usePolling=!1:l==="true"||l==="1"?t.usePolling=!0:t.usePolling=!!l}let o=process.env.CHOKIDAR_INTERVAL;o&&(t.interval=Number.parseInt(o,10)),ne(t,"atomic")&&(t.atomic=!t.usePolling&&!t.useFsEvents),t.atomic&&(this._pendingUnlinks=new Map),ne(t,"followSymlinks")&&(t.followSymlinks=!0),ne(t,"awaitWriteFinish")&&(t.awaitWriteFinish=!1),t.awaitWriteFinish===!0&&(t.awaitWriteFinish={});let n=t.awaitWriteFinish;n&&(n.stabilityThreshold||(n.stabilityThreshold=2e3),n.pollInterval||(n.pollInterval=100),this._pendingWrites=new Map),t.ignored&&(t.ignored=pr(t.ignored));let a=0;this._emitReady=()=>{a++,a>=this._readyCount&&(this._emitReady=rl,this._readyEmitted=!0,process.nextTick(()=>this.emit(Ba)))},this._emitRaw=(...l)=>this.emit(ja,...l),this._readyEmitted=!1,this.options=t,t.useFsEvents?this._fsEventsHandler=new Si(this):this._nodeFsHandler=new Wa(this),Object.freeze(t)}add(e,t,s){let{cwd:i,disableGlobbing:o}=this.options;this.closed=!1;let n=Ti(e);return i&&(n=n.map(a=>{let l=al(a,i);return o||!nr(a)?l:Ma(l)})),n=n.filter(a=>a.startsWith(fr)?(this._ignoredPaths.add(a.slice(1)),!1):(this._ignoredPaths.delete(a),this._ignoredPaths.delete(a+cr),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=n.length),this.options.persistent&&(this._readyCount*=2),n.forEach(a=>this._fsEventsHandler._addToFsEvents(a))):(this._readyCount||(this._readyCount=0),this._readyCount+=n.length,Promise.all(n.map(async a=>{let l=await this._nodeFsHandler._addToNodeFs(a,!s,0,0,t);return l&&this._emitReady(),l})).then(a=>{this.closed||a.filter(l=>l).forEach(l=>{this.add(L.dirname(l),L.basename(t||l))})})),this}unwatch(e){if(this.closed)return this;let t=Ti(e),{cwd:s}=this.options;return t.forEach(i=>{!L.isAbsolute(i)&&!this._closers.has(i)&&(s&&(i=L.join(s,i)),i=L.resolve(i)),this._closePath(i),this._ignoredPaths.add(i),this._watched.has(i)&&this._ignoredPaths.add(i+cr),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();let e=[];return this._closers.forEach(t=>t.forEach(s=>{let i=s();i instanceof Promise&&e.push(i)})),this._streams.forEach(t=>t.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(t=>t.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(t=>{this[`_${t}`].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){let e={};return this._watched.forEach((t,s)=>{let i=this.options.cwd?L.relative(this.options.cwd,s):s;e[i||ki]=t.getChildren().sort()}),e}emitWithAll(e,t){this.emit(...t),e!==ar&&this.emit(or,...t)}async _emit(e,t,s,i,o){if(this.closed)return;let n=this.options;sl&&(t=L.normalize(t)),n.cwd&&(t=L.relative(n.cwd,t));let a=[e,t];o!==void 0?a.push(s,i,o):i!==void 0?a.push(s,i):s!==void 0&&a.push(s);let l=n.awaitWriteFinish,h;if(l&&(h=this._pendingWrites.get(t)))return h.lastChange=new Date,this;if(n.atomic){if(e===vi)return this._pendingUnlinks.set(t,a),setTimeout(()=>{this._pendingUnlinks.forEach((f,u)=>{this.emit(...f),this.emit(or,...f),this._pendingUnlinks.delete(u)})},typeof n.atomic=="number"?n.atomic:100),this;e===dt&&this._pendingUnlinks.has(t)&&(e=a[0]=Ge,this._pendingUnlinks.delete(t))}if(l&&(e===dt||e===Ge)&&this._readyEmitted){let f=(u,c)=>{u?(e=a[0]=ar,a[1]=u,this.emitWithAll(e,a)):c&&(a.length>2?a[2]=c:a.push(c),this.emitWithAll(e,a))};return this._awaitWriteFinish(t,l.stabilityThreshold,e,f),this}if(e===Ge&&!this._throttle(Ge,t,50))return this;if(n.alwaysStat&&s===void 0&&(e===dt||e===Ga||e===Ge)){let f=n.cwd?L.join(n.cwd,t):t,u;try{u=await nl(f)}catch{}if(!u||this.closed)return;a.push(u)}return this.emitWithAll(e,a),this}_handleError(e){let t=e&&e.code;return e&&t!=="ENOENT"&&t!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||t!=="EPERM"&&t!=="EACCES")&&this.emit(ar,e),e||this.closed}_throttle(e,t,s){this._throttled.has(e)||this._throttled.set(e,new Map);let i=this._throttled.get(e),o=i.get(t);if(o)return o.count++,!1;let n,a=()=>{let h=i.get(t),f=h?h.count:0;return i.delete(t),clearTimeout(n),h&&clearTimeout(h.timeoutObject),f};n=setTimeout(a,s);let l={timeoutObject:n,clear:a,count:0};return i.set(t,l),l}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,t,s,i){let o,n=e;this.options.cwd&&!L.isAbsolute(e)&&(n=L.join(this.options.cwd,e));let a=new Date,l=h=>{_r.stat(n,(f,u)=>{if(f||!this._pendingWrites.has(e)){f&&f.code!=="ENOENT"&&i(f);return}let c=Number(new Date);h&&u.size!==h.size&&(this._pendingWrites.get(e).lastChange=c);let E=this._pendingWrites.get(e);c-E.lastChange>=t?(this._pendingWrites.delete(e),i(void 0,u)):o=setTimeout(l,this.options.awaitWriteFinish.pollInterval,u)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:a,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(o),s)}),o=setTimeout(l,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,t){if(this.options.atomic&&Va.test(e))return!0;if(!this._userIgnored){let{cwd:s}=this.options,i=this.options.ignored,o=i&&i.map(Li(s)),n=pr(o).filter(l=>typeof l===Er&&!nr(l)).map(l=>l+cr),a=this._getGlobIgnored().map(Li(s)).concat(o,n);this._userIgnored=ur(a,void 0,hr)}return this._userIgnored([e,t])}_isntIgnored(e,t){return!this._isIgnored(e,t)}_getWatchHelpers(e,t){let s=t||this.options.disableGlobbing||!nr(e)?e:$a(e),i=this.options.followSymlinks;return new mr(e,s,i,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));let t=L.resolve(e);return this._watched.has(t)||this._watched.set(t,new gr(t,this._boundRemove)),this._watched.get(t)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return!0;let s=(e&&Number.parseInt(e.mode,10))&511,i=Number.parseInt(s.toString(8)[0],10);return Boolean(4&i)}_remove(e,t,s){let i=L.join(e,t),o=L.resolve(i);if(s=s!=null?s:this._watched.has(i)||this._watched.has(o),!this._throttle("remove",i,100))return;!s&&!this.options.useFsEvents&&this._watched.size===1&&this.add(e,t,!0),this._getWatchedDir(i).getChildren().forEach(c=>this._remove(i,c));let l=this._getWatchedDir(e),h=l.has(t);l.remove(t),this._symlinkPaths.has(o)&&this._symlinkPaths.delete(o);let f=i;if(this.options.cwd&&(f=L.relative(this.options.cwd,i)),this.options.awaitWriteFinish&&this._pendingWrites.has(f)&&this._pendingWrites.get(f).cancelWait()===dt)return;this._watched.delete(i),this._watched.delete(o);let u=s?Ua:vi;h&&!this._isIgnored(i)&&this._emit(u,i),this.options.useFsEvents||this._closePath(i)}_closePath(e){this._closeFile(e);let t=L.dirname(e);this._getWatchedDir(t).remove(L.basename(e))}_closeFile(e){let t=this._closers.get(e);!t||(t.forEach(s=>s()),this._closers.delete(e))}_addPathCloser(e,t){if(!t)return;let s=this._closers.get(e);s||(s=[],this._closers.set(e,s)),s.push(t)}_readdirp(e,t){if(this.closed)return;let s={type:or,alwaysStat:!0,lstat:!0,...t},i=Ia(e,s);return this._streams.add(i),i.once(qa,()=>{i=void 0}),i.once(Ka,()=>{i&&(this._streams.delete(i),i=void 0)}),i}};yr.FSWatcher=pt;var ul=(r,e)=>{let t=new pt(e);return t.add(r),t};yr.watch=ul});var pl={};Rr(pl,{initModule:()=>fl,watch:()=>dl,watchFiles:()=>hl});module.exports=Ki(pl);var wr=se(require("path"));var Dr=require("console");function Ar(r,e){let t=0;if(e===!0){let s=process.env.TERM||"";t=s&&["xterm","screen","vt100"].some(i=>s.indexOf(i)!=-1)?s.indexOf("256color")!=-1?8:4:2}else e!==!1&&r.isTTY&&(t=r.getColorDepth());return t}function Sr(r,e){return vr(Ar(r,e),e)}function vr(r,e){let t=o=>`\x1B[${o}m`,s=r>0||e?(o,n)=>{let a=t(o),l=t(n);return h=>a+h+l}:o=>n=>n,i=r>=8?(o,n,a)=>{let l="\x1B["+n+"m",h="\x1B["+a+"m";return f=>l+f+h}:r>0?(o,n,a)=>{let l="\x1B["+o+"m",h="\x1B["+a+"m";return f=>l+f+h}:(o,n,a)=>l=>l;return{_hint:e,ncolors:r,reset:e||r>0?"e[0m":"",bold:s("1","22"),italic:s("3","23"),underline:s("4","24"),inverse:s("7","27"),white:i("37","38;2;255;255;255","39"),grey:i("90","38;5;244","39"),black:i("30","38;5;16","39"),blue:i("34","38;5;75","39"),cyan:i("36","38;5;87","39"),green:i("32","38;5;84","39"),magenta:i("35","38;5;213","39"),purple:i("35","38;5;141","39"),pink:i("35","38;5;211","39"),red:i("31","38;2;255;110;80","39"),yellow:i("33","38;5;227","39"),lightyellow:i("93","38;5;229","39"),orange:i("33","38;5;215","39"),reconfigure(o,n){let a=Ar(o,n);return a!=this.ncolors&&n!=this._hint&&Object.assign(this,vr(a,n)),this}}}var ge=Sr(process.stdout),mt=Sr(process.stderr);var Q=se(require("path"));var be=se(require("path")),_t=se(require("os")),Cr=require("perf_hooks");var Tr=require("util"),Oe=(r,e,t)=>JSON.stringify(r,t,e),me=()=>Cr.performance.now(),El=process.platform.startsWith("win"),yl=Symbol("TYPE");function Et(r){try{return require(r)}catch{return null}}Et.resolve=r=>{try{return require.resolve(r)}catch{return""}};var wl=module.id=="."||process.mainModule.filename==__filename;function Re(r,e){let t={colors:ge.ncolors>0};return typeof e=="object"?t={...e}:e!==void 0&&(t.compact=!e),(0,Tr.inspect)(r,t)}function Pr(r){return r>=59500?(r/6e4).toFixed(0)+"min":r>=999.5?(r/1e3).toFixed(1)+"s":r.toFixed(2)+"ms"}function Lr(r){let e=be.resolve(r),t=_t.homedir();return e.startsWith(t)?"~"+e.substr(t.length):e}var yt=(()=>{let r=process.env._,e=process.argv[1];if(!e)return r||process.argv[0];if(r&&!Q.isAbsolute(r))return r;let t="";if(r){let s=Q.basename(process.execPath);r.endsWith(Q.sep+s)&&(t=s+" ")}if(e.startsWith(process.cwd())){let s=Q.relative(process.cwd(),e);if(!s.startsWith("node_modules"+Q.sep)&&s.indexOf(Q.sep+"node_modules"+Q.sep)==-1)return Q.sep=="/"&&(s="./"+s),s}return t+Q.basename(e)})();var Hr=se(require("path"));var Rt={};Rr(Rt,{_ts_check_file:()=>Vi,file:()=>G,fileModificationLog:()=>bt,fileModificationLogAppend:()=>xe,fileWasModifiedRecentlyByUser:()=>zi,scandir:()=>en});var K=se(require("fs")),Y=se(require("path")),Fr=se(require("crypto"));var _e=se(require("fs"));var Or=String.fromCharCode,Yi=(r,e)=>r.charCodeAt(e||0);function kr(r,e){return new Promise((t,s)=>{if(typeof e=="number")return _e.chmod(r,e,i=>{i?s(i):t(e)});_e.stat(r,(i,o)=>{if(i)return s(i);let n=wt(o.mode,e);if(o.mode==n)return t(n);_e.chmod(r,n,a=>{a?s(a):t(n)})})})}function wt(r,e){let t="Expected format: [ugoa]*[+-=][rwx]+",s=(o,n)=>new Error(`${o} in modifier ${Oe(n)}. ${t}`),i=[];for(let o of Array.isArray(e)?e:[e])i=i.concat(o.trim().split(/\s*,+\s*/));for(let o of i){let n=[],a=!1,l=0,h=0;for(let u=0;u<o.length;u++){let c=Yi(o,u);if(l==0)switch(c){case 117:case 103:case 111:a||n.push(c);break;case 97:n=[117,103,111],a=!0;break;case 43:case 45:case 61:l=c;break;default:if(l==0)throw s(`Invalid target or operation ${Oe(Or(c))}`,o);break}else switch(c){case 114:h|=4;break;case 119:h|=2;break;case 120:h|=1;break;default:throw s(`Invalid permission ${Oe(Or(c))}`,o)}}if(l==0)throw s("Missing operation",o);n.length==0&&(n=[117]),h==0&&(h=7);let f=0;for(let u of n)switch(u){case 117:f|=h<<6;break;case 103:f|=h<<3;break;case 111:f|=h;break}switch(l){case 43:r|=f;break;case 45:r&=~f;break;case 61:r=f;break}}return r}var ie=K.promises,bt={};function xe(r){bt[Y.resolve(String(r))]=me()}function zi(r){let t=bt[Y.resolve(r)];return t!==void 0&&me()-t<=3e4}var Vi=G;function G(r,e){return ie.readFile(r,e)}G.editMode=wt;G.chmod=(r,e)=>(xe(r),kr(r,e));function Qi(r,e){return ie.readFile(r,e)}G.read=Qi;function Xi(r,e){return K.readFileSync(r,e)}G.readSync=Xi;G.stat=ie.stat;function Zi(...r){return Promise.all(r.map(e=>ie.stat(e).then(t=>t.mtimeMs).catch(t=>null))).then(e=>e.length==1?e[0]:e)}G.mtime=Zi;G.readall=(...r)=>Promise.all(r.map(e=>ie.readFile(e)));G.readallText=(r,...e)=>Promise.all(e.map(t=>ie.readFile(t,{encoding:r||"utf8"})));G.write=async(r,e,t)=>{xe(r);let s=t&&typeof t=="object"?t:{};try{await ie.writeFile(r,e,t)}catch(i){if(!s.mkdirOff&&i.code=="ENOENT")await G.mkdirs(Y.dirname(String(r)),s.mkdirMode),await ie.writeFile(r,e,t);else throw i}if(s.log){let i=Y.relative(process.cwd(),String(r));i.startsWith(".."+Y.sep)&&(i=Lr(r)),z.info(ge.green(`Wrote ${i}`))}};G.writeSync=(r,e,t)=>{xe(r),K.writeFileSync(r,e,t)};function Ji(r,e){return new Promise((t,s)=>{let i=K.createReadStream(r),o=Fr.createHash("sha1");i.on("error",s),i.on("end",()=>{o.end(),t(e?o.digest(e):o.digest())}),i.pipe(o)})}G.sha1=Ji;G.copy=(r,e,t)=>{let s=K.constants.COPYFILE_FICLONE;return t&&(s|=K.constants.COPYFILE_EXCL),xe(e),ie.copyFile(r,e,s)};G.move=(r,e)=>(xe(e),ie.rename(r,e));G.mkdirs=(r,e)=>ie.mkdir(r,{recursive:!0,mode:e}).then(t=>!!t&&t.length>0);async function en(r,e,t){if(t||(t={}),!K.promises||!K.promises.opendir)throw new Error("scandir not implemented for nodejs <12.12.0");let s=[],i=new Set,o=t.recursive!==void 0?t.recursive?1/0:0:t.depth!==void 0?t.depth:1/0;async function n(l,h,f){if(i.has(l))return;i.add(l);let u=await K.promises.opendir(l);for await(let c of u){let E=c.name;c.isDirectory()?o<f&&await n(Y.join(l,E),Y.join(h,E),f+1):(c.isFile()||c.isSymbolicLink())&&e&&e.test(E)&&s.push(Y.join(h,E))}}let a=Array.isArray(r)?r:[r];return Promise.all(a.map(l=>n(Y.resolve(l),".",0))).then(()=>s.sort())}var tn=__dirname;function Nr(r){let e=null;return function(){return e||(j.debug(`loading ${r} module`),e=Et(Hr.join(tn,r)),e.initModule(j.level,Rt)),e}}var xt=Nr("debug.js"),Hl=Nr("watch.js");function Ir(r,e){return xt().printErrorAndExit(r,e)}function $r(r,e){Error.prepareStackTrace=void 0;try{if(xt().installSourceMapSupport(),Error.prepareStackTrace!==$r)return Error.prepareStackTrace(r,e)}catch{}return r.stack||String(r)}Error.prepareStackTrace=$r;process.on("uncaughtException",Ir);process.on("unhandledRejection",(r,e)=>{Ir(r||"PromiseRejection","unhandledRejection")});var Ae=console,At,j=new class{constructor(){this.SILENT=-1;this.ERROR=0;this.WARN=1;this.INFO=2;this.DEBUG=3;this.level=2;this.infoOnce=this.info;this.debug=sn}error(...e){j.level>=0&&(Qe(e),Ae.error(mt.red(`${yt}:`),...e))}warn(...e){j.level>=1&&(Qe(e),Ae.error(mt.magenta(`${yt}:`),...e))}info(...e){j.level>=2&&(Qe(e),Ae.log(...e))}get colorMode(){return At}set colorMode(e){At!==e&&(At=e,e===void 0?Ae=console:Ae=new Dr.Console({stdout:process.stdout,stderr:process.stderr,colorMode:e}))}},z=j;function Qe(r){typeof r[0]=="function"&&(r[0]=r[0]())}function sn(...r){if(j.level>=3){let e="";if(Qe(r),r.length==0||r.length==1&&(r[0]===""||r[0]===void 0))return;Ae.log(ge.bold(ge.blue(`[DEBUG${e}]`)),...r)}}var Ue=se(require("path")),Ii=se(Ni());var je=class{constructor(e){this.basedir="";this._resolve=(e,t)=>{};this._cancelled=!1;this._watcher=null;this._fileset=new Set;this.options=e,this.promise=new Promise(t=>{this._resolve=t}),this.promise.cancel=()=>{this._cancelled=!0}}setFiles(e){let t=new Set(e);if(!this._watcher){this._fileset=t,this._start();return}let s=[];for(let o of this._fileset)t.has(o)||s.push(o);let i=[];for(let o of t)this._fileset.has(o)||i.push(o);this._fileset=t,s.length>0&&(z.debug(()=>`fswatch stop watching files ${this._relnames(s)}`),this._watcher.unwatch(s)),i.length>0&&(z.debug(()=>`fswatch start watching files ${this._relnames(i)}`),this._watcher.add(i))}close(){return this._watcher?(z.debug(()=>"fswatch closing"),this._watcher.close().then(()=>this._resolve()).catch(e=>this._resolve(void 0,e)),this._watcher=null,this.promise):Promise.resolve()}_relnames(e){return e.length==1?this._relname(e[0]):e.map(t=>`
  `+this._relname(t)).join("")}_relname(e){return this.basedir&&e.startsWith(this.basedir)?Ue.relative(this.basedir,e):Ue.relative(process.cwd(),e)}_start(){if(this._cancelled)return;let e=Array.from(this._fileset);if(e.length==0)return;this.basedir&&(this.basedir=Ue.resolve(this.basedir));let t=50,s=null,i={...this.options};typeof i.latency=="number"&&(t=i.latency,delete i.latency),i.filter&&(s=i.filter,delete i.filter);let o={disableGlobbing:!0,followSymlinks:!1,awaitWriteFinish:{stabilityThreshold:20,pollInterval:100},...i,persistent:!0,ignoreInitial:!0},n=new Map,a=null,l=()=>{a=null;let _=this.onChange?this.onChange(Array.from(n.values())):null;n.clear(),_ instanceof Promise&&(_.then(()=>{a=null,n.size>0&&l()}).catch(b=>{this.promise.cancel(b)}),a=1)},h=()=>{a===null&&(a=setTimeout(l,t))},f=_=>s&&!s.test(_)?(z.debug(()=>`fswatch ignoring ${_} (filter)`),!0):!1,u={time:0,oldname:"",newname:"INIT"},c=(_,b)=>{if(this.options.isChangeSelfOriginating(b)){z.debug(()=>`fswatch ignoring self-originating event ${_} ${b}`);return}if(f(b))return;z.debug(()=>`fsevent ${Re(_)} ${Re(b)}`);let A={addDir:"add",unlink:"delete",unlinkDir:"delete"};(_!="unlink"||!n.has(b)||n.get(b).type!="move")&&n.set(b,{type:A[_]||_,name:b}),h()},E=(_,b,A)=>{if(_!="moved"||(b=this._relname(b),z.debug(()=>`fsevent (raw) ${Re(_)} ${Re(b)} ${Re(A)}`),f(b)))return;let O=me(),k=100;u.newname!=""?(u.oldname=b,u.newname="",u.time=O):(u.newname=b,u.time=O,O-u.time<=k&&(z.debug(`fsevent (derived) move ${u.oldname} -> ${b}`),this._watcher&&(this._watcher.add(b),this._fileset.add(b),this._watcher.unwatch(u.oldname),this._fileset.delete(u.oldname)),n.delete(u.oldname),n.set(u.oldname,{type:"move",name:u.oldname,newname:b}),h()))};this.promise.cancel=_=>{z.debug("fswatcher is being cancelled"),clearTimeout(a),this._cancelled||(this._cancelled=!0,this.close()),_&&this._resolve(void 0,_)};let y=me();this._watcher=Ii.watch(e,o).on("all",c).on("raw",E).on("error",_=>z.warn(`fswatch ${_}`)).on("ready",()=>{z.debug(()=>`fswatch initial scan complete (${Pr(me()-y)})`),this.onStart&&this.onStart()})}};var br;function fl(r,e){j.level=r,br=e}function Di(r){return{...r,isChangeSelfOriginating(e){return br.fileWasModifiedRecentlyByUser(e)}}}var $i=new Map;async function hl(r,e,t,s){let i=r.projectID,o=$i.get(i);if(!o){let a=r.watch&&typeof r.watch=="object"?r.watch:{};o=new je(Di(a)),$i.set(i,o),o.basedir=r.cwd||process.cwd(),o.onChange=l=>{s(l).then(n)},t.addCancelCallback(()=>{o.promise.cancel()}),j.debug(`fswatch started for project#${i}`)}function n(){let a=e();if(j.debug("fswatch refreshFiles with esbuildMeta",a),!a||!a.inputs)return;let l=Object.keys(a.inputs),h=a.outputs||{};if(l.length==0)return;let f="node_modules"+wr.sep,u=wr.sep+f,c=y=>y.startsWith(f)||y.includes(u);if(j.level>=j.DEBUG){let y=l.filter(_=>!c(_)).slice(0,10);j.debug(`fswatch updating source files: esbuild reported ${l.length} inputs:`+y.map(_=>`
  ${_}`).join("")+(y.length<l.length?`
  ... ${l.length-y.length} more`:""))}for(let y of Object.keys(h))br.fileModificationLogAppend(y);let E=[];for(let y of l)y in h||l.length>100&&c(y)||E.push(y);o.setFiles(E)}return n(),o.promise}function dl(r,e,t){t||(t=e,e={});let s=new je(Di({persistent:!0,ignoreInitial:!0,ignored:/(^|[\/\\])\../,disableGlobbing:!0,followSymlinks:!1,...e||{}}));return s.basedir=process.cwd(),s.onChange=t,s.setFiles(typeof r=="string"?[r]:r),s.promise}0&&(module.exports={initModule,watch,watchFiles});
//# sourceMappingURL=watch.js.map
